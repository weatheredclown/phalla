<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Kernel Forge 2.0</title>
    <link rel="stylesheet" href="../common.css" />
    <link rel="stylesheet" href="./kernel-forge-20.css" />
  </head>
  <body>
    <header>
      <div class="header-bar">
        <div class="header-text">
          <p>Layer 05 · Kernel Lab</p>
          <h1>Kernel Forge 2.0</h1>
        </div>
        <button
          type="button"
          class="fullscreen-toggle"
          data-role="fullscreen-toggle"
          data-fullscreen="false"
          aria-pressed="false"
        >
          <span class="fullscreen-toggle__label fullscreen-toggle__label--enter" data-state="enter">Enter full screen</span>
          <span class="fullscreen-toggle__label fullscreen-toggle__label--exit" data-state="exit">Exit full screen</span>
        </button>
      </div>
      <p>
        The colo is rolling out dual-homed routers. Your kernel must be lean, route packets fast, and boot without SCSI baggage.
        Toggle features to match the deployment memo.
      </p>
    </header>
    <main>
      <section class="control-panel" aria-labelledby="kernel-brief">
        <h2 id="kernel-brief">Build directives</h2>
        <p>Target kernel: 2.0.36 with SMP patch.</p>
        <ul class="task-list">
          <li>Enable <strong>IP forwarding</strong> and <strong>IP firewall</strong> support.</li>
          <li>Compile <strong>3c59x</strong> NIC driver <em>into</em> the kernel.</li>
          <li>Exclude <strong>SCSI</strong> and <strong>Sound</strong> subsystems to shrink the image.</li>
        </ul>
        <form id="kernel-form" class="form-grid">
          <fieldset>
            <legend>Networking</legend>
            <div class="checkbox-grid">
              <label>
                IP forwarding
                <input type="checkbox" name="network" value="forwarding" />
              </label>
              <label>
                IP firewalling
                <input type="checkbox" name="network" value="firewall" />
              </label>
              <label>
                Experimental IPv6
                <input type="checkbox" name="network" value="ipv6" />
              </label>
            </div>
          </fieldset>
          <fieldset>
            <legend>Device Drivers</legend>
            <label>
              3c59x driver
              <select name="nic-mode">
                <option value="module">Build as module</option>
                <option value="builtin">Compile into kernel</option>
              </select>
            </label>
            <div class="checkbox-grid">
              <label>
                Include SCSI support
                <input type="checkbox" name="drivers" value="scsi" />
              </label>
              <label>
                Include Sound subsystem
                <input type="checkbox" name="drivers" value="sound" />
              </label>
              <label>
                Include PCMCIA
                <input type="checkbox" name="drivers" value="pcmcia" />
              </label>
            </div>
          </fieldset>
          <button type="submit" class="execute-button">make bzImage</button>
        </form>
        <div class="forge-monitor" aria-hidden="true">
          <div class="forge-meter">
            <div class="meter-track">
              <div class="meter-fill"></div>
            </div>
            <span class="meter-label" data-role="meter-label">Compile progress 0%</span>
          </div>
          <div class="flag-grid">
            <span class="flag-chip" data-flag="forwarding">IP forwarding</span>
            <span class="flag-chip" data-flag="firewall">IP firewalling</span>
            <span class="flag-chip" data-flag="ipv6">IPv6 trimmed</span>
          </div>
          <div class="driver-grid">
            <span class="driver-chip" data-driver="3c59x">3c59x built-in</span>
            <span class="driver-chip" data-driver="scsi">SCSI removed</span>
            <span class="driver-chip" data-driver="sound">Sound removed</span>
          </div>
        </div>
        <div class="status-board" id="status-board" aria-live="polite">Awaiting config for make menuconfig…</div>
      </section>
    </main>
    <footer>Remember to copy System.map once it boots.</footer>
    <script type="module" src="./kernel-forge-20.js"></script>
  </body>
</html>
