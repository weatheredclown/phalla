<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Hopline Diagnostics</title>
    <link rel="stylesheet" href="../common.css" />
    <link rel="stylesheet" href="../widgets.css" />
    <link rel="stylesheet" href="./hopline-diagnostics.css" />
  </head>
  <body>
    <header>
      <div class="header-bar">
        <div class="header-text">
          <p>Layer 08 Â· Backbone Pulse</p>
          <h1>Hopline Diagnostics</h1>
        </div>
        <button
          type="button"
          class="fullscreen-toggle"
          data-role="fullscreen-toggle"
          data-fullscreen="false"
          aria-pressed="false"
        >
          <span class="fullscreen-toggle__label fullscreen-toggle__label--enter" data-state="enter">Enter full screen</span>
          <span class="fullscreen-toggle__label fullscreen-toggle__label--exit" data-state="exit">Exit full screen</span>
        </button>
      </div>
      <p>
        A campus office says uploads are timing out. You already ran ping and traceroute from the NOC. Match each network to the
        router that should advertise it so the packets stay on-net.
      </p>
    </header>
    <main>
      <section class="diagnostic" aria-labelledby="diag-heading">
        <h2 id="diag-heading">Trace brief</h2>
        <div class="log-panel" role="log" aria-live="polite">
          <pre>$ ping -c 4 studio.lan
Reply from 10.20.3.12: time=9 ms
Reply from 10.20.3.12: time=9 ms
Request timed out.
Request timed out.

$ traceroute studio.lan
 1  gateway (10.0.0.1)
 2  edge-hub (10.1.4.1)
 3  ???
 4  metro-border (198.51.100.9)
 5  * * *
</pre>
        </div>
      </section>
      <section class="control-panel" aria-labelledby="route-heading">
        <h2 id="route-heading">Route remap console</h2>
        <p>Select the router that should announce each prefix.</p>
        <form id="route-form" class="form-grid">
          <fieldset>
            <legend>Prefix to router mapping</legend>
            <div class="route-grid">
              <div class="route-control">
                <p class="route-control__label">10.20.0.0/16 data lab</p>
                <div class="neon-select" data-widget="neon-select" aria-label="Select router for 10.20.0.0/16">
                  <input type="hidden" name="lab" value="" />
                  <div class="neon-select__rail">
                    <button class="neon-select__option" data-value="" type="button">
                      <span class="neon-select__option-title">--</span>
                    </button>
                    <button class="neon-select__option" data-value="edge-hub" type="button">
                      <span class="neon-select__option-title">edge-hub</span>
                    </button>
                    <button class="neon-select__option" data-value="metro-border" type="button">
                      <span class="neon-select__option-title">metro-border</span>
                    </button>
                    <button class="neon-select__option" data-value="studio-loop" type="button">
                      <span class="neon-select__option-title">studio-loop</span>
                    </button>
                  </div>
                </div>
              </div>
              <div class="route-control">
                <p class="route-control__label">172.22.40.0/21 studio wing</p>
                <div class="neon-select" data-widget="neon-select" aria-label="Select router for 172.22.40.0/21">
                  <input type="hidden" name="studio" value="" />
                  <div class="neon-select__rail">
                    <button class="neon-select__option" data-value="" type="button">
                      <span class="neon-select__option-title">--</span>
                    </button>
                    <button class="neon-select__option" data-value="edge-hub" type="button">
                      <span class="neon-select__option-title">edge-hub</span>
                    </button>
                    <button class="neon-select__option" data-value="metro-border" type="button">
                      <span class="neon-select__option-title">metro-border</span>
                    </button>
                    <button class="neon-select__option" data-value="studio-loop" type="button">
                      <span class="neon-select__option-title">studio-loop</span>
                    </button>
                  </div>
                </div>
              </div>
              <div class="route-control">
                <p class="route-control__label">198.51.100.0/28 ISP handoff</p>
                <div class="neon-select" data-widget="neon-select" aria-label="Select router for 198.51.100.0/28">
                  <input type="hidden" name="isp" value="" />
                  <div class="neon-select__rail">
                    <button class="neon-select__option" data-value="" type="button">
                      <span class="neon-select__option-title">--</span>
                    </button>
                    <button class="neon-select__option" data-value="edge-hub" type="button">
                      <span class="neon-select__option-title">edge-hub</span>
                    </button>
                    <button class="neon-select__option" data-value="metro-border" type="button">
                      <span class="neon-select__option-title">metro-border</span>
                    </button>
                    <button class="neon-select__option" data-value="studio-loop" type="button">
                      <span class="neon-select__option-title">studio-loop</span>
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </fieldset>
          <button type="submit" class="execute-button">Deploy routes</button>
        </form>
        <div id="status-board" class="status-board" aria-live="polite">Routing daemon idle.</div>
        <div class="trace-visual" aria-hidden="true">
          <div class="net" data-net="lab">
            <span class="net-label">10.20.0.0/16</span>
          </div>
          <div class="net" data-net="studio">
            <span class="net-label">172.22.40.0/21</span>
          </div>
          <div class="net" data-net="isp">
            <span class="net-label">198.51.100.0/28</span>
          </div>
          <div class="router" data-router="edge-hub">
            <span class="router-label">edge-hub</span>
          </div>
          <div class="router" data-router="studio-loop">
            <span class="router-label">studio-loop</span>
          </div>
          <div class="router" data-router="metro-border">
            <span class="router-label">metro-border</span>
          </div>
          <div class="link" data-link="lab"></div>
          <div class="link" data-link="studio"></div>
          <div class="link" data-link="isp"></div>
          <div class="packet" aria-hidden="true"></div>
          <div class="packet" aria-hidden="true"></div>
          <div class="packet" aria-hidden="true"></div>
        </div>
        <div class="trace-meter" aria-hidden="true">
          <span class="trace-label">Announce health</span>
          <div class="trace-bar">
            <span class="trace-fill"></span>
          </div>
          <div class="trace-pips">
            <span class="trace-pip" data-index="0"></span>
            <span class="trace-pip" data-index="1"></span>
            <span class="trace-pip" data-index="2"></span>
          </div>
        </div>
      </section>
    </main>
    <footer>Keep the traceroute green and the pager silent.</footer>
    <script src="../widgets.js" type="module"></script>
    <script type="module" src="./hopline-diagnostics.js"></script>
  </body>
</html>
