<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Modem Skunkworks</title>
    <link rel="stylesheet" href="../common.css" />
    <link rel="stylesheet" href="./modem-skunkworks.css" />
  </head>
  <body>
    <header>
      <div class="header-bar">
        <div class="header-text">
          <p>Layer 04 · Dial-Up Ops</p>
          <h1>Modem Skunkworks</h1>
        </div>
        <button
          type="button"
          class="fullscreen-toggle"
          data-role="fullscreen-toggle"
          data-fullscreen="false"
          aria-pressed="false"
        >
          <span class="fullscreen-toggle__label fullscreen-toggle__label--enter" data-state="enter">Enter full screen</span>
          <span class="fullscreen-toggle__label fullscreen-toggle__label--exit" data-state="exit">Exit full screen</span>
        </button>
      </div>
      <p>
        The overnight newsroom needs a clean PPP session. Sequence the handshake so their dialer script negotiates without redials
        and the newsroom feed syncs on the first try.
      </p>
    </header>
    <main>
      <section class="control-panel" aria-labelledby="ppp-brief">
        <h2 id="ppp-brief">Handshake console</h2>
        <p>Drag each module into position or select it and activate a slot.</p>
        <form id="ppp-form" class="form-grid">
          <fieldset>
            <legend>Phase ordering</legend>
            <div class="assignment-grid">
              <section class="phase-pool" aria-labelledby="phase-pool-heading">
                <h3 id="phase-pool-heading">Phase modules</h3>
                <div class="chip-deck" data-role="phase-pool">
                  <button
                    type="button"
                    class="phase-chip"
                    data-phase="carrier"
                    data-phase-label="Carrier detect"
                    draggable="true"
                  >
                    <span class="chip-title">Carrier detect</span>
                    <span class="chip-detail">Listen for the tone</span>
                  </button>
                  <button
                    type="button"
                    class="phase-chip"
                    data-phase="lcp"
                    data-phase-label="Link control negotiation"
                    draggable="true"
                  >
                    <span class="chip-title">Link control (LCP)</span>
                    <span class="chip-detail">Agree on framing</span>
                  </button>
                  <button
                    type="button"
                    class="phase-chip"
                    data-phase="auth"
                    data-phase-label="Authentication"
                    draggable="true"
                  >
                    <span class="chip-title">Authentication</span>
                    <span class="chip-detail">PAP / CHAP exchange</span>
                  </button>
                  <button
                    type="button"
                    class="phase-chip"
                    data-phase="ipcp"
                    data-phase-label="Network control"
                    draggable="true"
                  >
                    <span class="chip-title">Network control (IPCP)</span>
                    <span class="chip-detail">Lease an IP</span>
                  </button>
                </div>
              </section>
              <section class="phase-slots" aria-labelledby="phase-slots-heading">
                <h3 id="phase-slots-heading">Handshake order</h3>
                <div class="slot-grid">
                  <div class="phase-slot" data-role="phase-slot" data-slot="1" data-phase="">
                    <div
                      class="slot-drop"
                      data-role="slot-drop"
                      role="button"
                      tabindex="0"
                      aria-label="Slot 1 awaiting assignment"
                    >
                      <span class="slot-index" aria-hidden="true">1</span>
                      <div class="slot-content" data-role="slot-content">
                        <span class="slot-placeholder" data-role="slot-placeholder">Awaiting phase</span>
                      </div>
                    </div>
                    <input type="hidden" name="slot-1" data-role="slot-input" value="" />
                  </div>
                  <div class="phase-slot" data-role="phase-slot" data-slot="2" data-phase="">
                    <div
                      class="slot-drop"
                      data-role="slot-drop"
                      role="button"
                      tabindex="0"
                      aria-label="Slot 2 awaiting assignment"
                    >
                      <span class="slot-index" aria-hidden="true">2</span>
                      <div class="slot-content" data-role="slot-content">
                        <span class="slot-placeholder" data-role="slot-placeholder">Awaiting phase</span>
                      </div>
                    </div>
                    <input type="hidden" name="slot-2" data-role="slot-input" value="" />
                  </div>
                  <div class="phase-slot" data-role="phase-slot" data-slot="3" data-phase="">
                    <div
                      class="slot-drop"
                      data-role="slot-drop"
                      role="button"
                      tabindex="0"
                      aria-label="Slot 3 awaiting assignment"
                    >
                      <span class="slot-index" aria-hidden="true">3</span>
                      <div class="slot-content" data-role="slot-content">
                        <span class="slot-placeholder" data-role="slot-placeholder">Awaiting phase</span>
                      </div>
                    </div>
                    <input type="hidden" name="slot-3" data-role="slot-input" value="" />
                  </div>
                  <div class="phase-slot" data-role="phase-slot" data-slot="4" data-phase="">
                    <div
                      class="slot-drop"
                      data-role="slot-drop"
                      role="button"
                      tabindex="0"
                      aria-label="Slot 4 awaiting assignment"
                    >
                      <span class="slot-index" aria-hidden="true">4</span>
                      <div class="slot-content" data-role="slot-content">
                        <span class="slot-placeholder" data-role="slot-placeholder">Awaiting phase</span>
                      </div>
                    </div>
                    <input type="hidden" name="slot-4" data-role="slot-input" value="" />
                  </div>
                </div>
              </section>
            </div>
          </fieldset>
          <button type="submit" class="execute-button">Dial now</button>
        </form>
        <div class="status-board" id="status-board" aria-live="polite">Modem idle. Awaiting script…</div>
        <div class="wave-visual" aria-hidden="true">
          <div class="phase" data-phase="carrier">
            <span class="phase-label">Carrier</span>
            <span class="phase-line"></span>
          </div>
          <div class="phase" data-phase="lcp">
            <span class="phase-label">LCP</span>
            <span class="phase-line"></span>
          </div>
          <div class="phase" data-phase="auth">
            <span class="phase-label">Auth</span>
            <span class="phase-line"></span>
          </div>
          <div class="phase" data-phase="ipcp">
            <span class="phase-label">IPCP</span>
            <span class="phase-line"></span>
          </div>
          <div class="wave-track"></div>
        </div>
        <div class="sync-meter" aria-hidden="true">
          <span class="sync-label">Link stability</span>
          <div class="sync-bar">
            <span class="sync-fill"></span>
          </div>
          <div class="sync-lights">
            <span class="sync-dot" data-index="0"></span>
            <span class="sync-dot" data-index="1"></span>
            <span class="sync-dot" data-index="2"></span>
            <span class="sync-dot" data-index="3"></span>
          </div>
        </div>
      </section>
    </main>
    <footer>Pair your 56K with a clean copper line.</footer>
    <script type="module" src="./modem-skunkworks.js"></script>
  </body>
</html>
