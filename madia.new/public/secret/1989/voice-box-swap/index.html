<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Voice Box Swap</title>
    <link rel="stylesheet" href="../../secret-annex-snes.css" />
    <link rel="stylesheet" href="../common.css" />
    <link rel="stylesheet" href="voice-box-swap.css" />
  </head>
  <body class="secret-annex-snes voice-box-swap">
    <a class="skip-link" href="#main-content">Skip to game</a>
    <div class="scanlines" aria-hidden="true"></div>
    <header class="page-header">
      <p class="eyebrow">Level 28 · 1989 Arcade</p>
      <h1>Voice Box Swap</h1>
      <p class="subtitle">
        Decode the newborn snark, call the perfect play, and keep that combo humming before the grown-ups catch on.
      </p>
    </header>
    <main id="main-content" class="page-layout">
      <section class="briefing" aria-labelledby="briefing-title">
        <h2 id="briefing-title">Nursery Briefing</h2>
        <p>
          The baby’s inner monologue is pure sitcom shade. Study the bubble, tap the action that fits, and race the dwindling
          timer. Keep a streak alive to amplify your Sync Score, but don’t let a mismatched mood shatter the run.
        </p>
        <ul class="callouts">
          <li><strong>Three acts:</strong> Morning warm-ups ease you in, Playtime layers sarcasm, Bedtime adds sleepy curveballs.</li>
          <li><strong>Combo spotlight:</strong> Every correct call boosts the multiplier. One whiff and the meter snaps back to ×1.</li>
          <li>
            <strong>Parent Is Nearby:</strong> When footsteps rumble, choose the Safe lullaby or chase the Risky stunt for huge bonus
            points.
          </li>
        </ul>
        <section class="controls" aria-labelledby="controls-title">
          <h3 id="controls-title">Controls</h3>
          <dl>
            <div>
              <dt>Select action</dt>
              <dd>Click or tap an icon. Use <span class="key-label">1</span>-<span class="key-label">4</span> as hotkeys.</dd>
            </div>
            <div>
              <dt>Confirm Safe play</dt>
              <dd>Press <span class="key-label">S</span> when a Parent event appears.</dd>
            </div>
            <div>
              <dt>Confirm Risky play</dt>
              <dd>Press <span class="key-label">R</span> when you’re chasing the big bonus.</dd>
            </div>
            <div>
              <dt>Restart session</dt>
              <dd>Tap the <strong>Replay Day</strong> button to reset phases and chase a better sync.</dd>
            </div>
          </dl>
        </section>
      </section>
      <section class="nursery" aria-labelledby="nursery-title">
        <div class="nursery-header">
          <h2 id="nursery-title">Daily Routine</h2>
          <div class="routine-controls">
            <button type="button" class="action-button" id="replay-day">Replay Day</button>
          </div>
        </div>
        <div class="hud">
          <div class="hud-card score-card">
            <p class="hud-label">Sync Score</p>
            <p class="score-value" id="sync-score">0</p>
            <p class="combo-label">Combo <span id="combo-multiplier">×1</span></p>
          </div>
          <div class="hud-card timer-card" role="timer" aria-live="polite">
            <p class="hud-label">Decision Timer</p>
            <p class="timer-value" id="decision-timer">—</p>
            <p class="phase-label">Phase: <span id="phase-name">Morning</span></p>
          </div>
          <div class="hud-card streak-card">
            <p class="hud-label">Highlights</p>
            <p class="streak-value">Longest Combo: <span id="longest-combo">0</span></p>
            <p class="streak-value">Best Risky Bonus: <span id="best-risky">0</span></p>
          </div>
          <div class="hud-card phase-track" aria-label="Phase tracker">
            <h3>Daily Track</h3>
            <ol id="phase-tracker"></ol>
          </div>
        </div>
        <div class="stage">
          <div class="baby-stage" aria-live="polite">
            <div class="baby-avatar" id="baby-avatar" role="img" aria-label="Baby waiting for your call"></div>
            <div class="thought-bubble">
              <p id="thought-text">Tap Replay Day to begin.</p>
            </div>
          </div>
          <div class="action-panel" aria-label="Action choices">
            <h3 id="panel-title">Action Icons</h3>
            <div class="icon-grid" id="action-grid" role="radiogroup" aria-labelledby="panel-title"></div>
            <p class="timer-warning" id="timer-warning" aria-live="assertive"></p>
          </div>
        </div>
        <div class="status-bar" id="status-bar">Welcome to Voice Box Swap.</div>
        <section class="log" aria-labelledby="log-title">
          <h3 id="log-title">Baby Monitor Log</h3>
          <ul id="event-log"></ul>
        </section>
      </section>
    </main>
    <div class="summary-overlay" id="summary-overlay" hidden>
      <div class="summary-backdrop" id="summary-backdrop" aria-hidden="true"></div>
      <section class="summary-panel" role="dialog" aria-modal="true" aria-labelledby="summary-title">
        <header class="summary-header">
          <h2 id="summary-title">Day Complete</h2>
          <p id="summary-subtitle">Here’s what the monitors caught.</p>
        </header>
        <dl class="summary-stats">
          <div>
            <dt>Sync Score</dt>
            <dd id="summary-score">0</dd>
          </div>
          <div>
            <dt>Longest Combo</dt>
            <dd id="summary-combo">0</dd>
          </div>
          <div>
            <dt>Best Risky Bonus</dt>
            <dd id="summary-risky">0</dd>
          </div>
        </dl>
        <footer class="summary-actions">
          <button type="button" class="action-button" id="summary-replay">Replay Day</button>
          <button type="button" class="action-button" id="summary-close">Close</button>
        </footer>
      </section>
    </div>
    <script type="module" src="voice-box-swap.js"></script>
  </body>
</html>
