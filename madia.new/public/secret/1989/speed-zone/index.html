<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Speed Zone</title>
    <link rel="stylesheet" href="../../secret-annex-snes.css" />
    <link rel="stylesheet" href="../common.css" />
    <link rel="stylesheet" href="speed-zone.css" />
  </head>
  <body class="secret-annex-snes">
    <a class="skip-link" href="#main-content">Skip to game</a>
    <div class="scanlines" aria-hidden="true"></div>
    <header class="page-header">
      <p class="eyebrow">Level 46 Â· 1989 Arcade</p>
      <h1>Speed Zone</h1>
      <p class="subtitle">
        Draft a coast-to-coast cannonball route, surf the High-Speed Dice, and outfox the sirens before they tighten the net.
      </p>
    </header>
    <main id="main-content" class="page-layout">
      <section class="briefing" aria-labelledby="briefing-title">
        <h2 id="briefing-title">Stage Notes</h2>
        <p>
          The Speed Zone is a stylized slice of interstate America. Mandatory checkpoints pulse in neon, rival crews feed false
          traffic reports, and every throw of the High-Speed Dice rattles out fresh movement points and hazard icons. Chart a
          safe line before the dice tumble to their danger face.
        </p>
        <ul class="callouts">
          <li><strong>Checkpoint order:</strong> Blaze through Silver City, Mile High, Heartland, and Neon Pier without missing a beat.</li>
          <li><strong>High-Speed Dice:</strong> Each roll delivers a surge value and a hazard icon that ignites matching nodes.</li>
          <li><strong>Rival intel:</strong> Patrol sweeps push ahead whenever back-to-back danger icons appear.</li>
          <li><strong>Rest stops:</strong> Pull over to cool your Heat meter and steady the crew.</li>
        </ul>
        <section class="legend" aria-labelledby="legend-title">
          <h3 id="legend-title">Legend</h3>
          <dl>
            <div>
              <dt><span class="legend-dot checkpoint"></span> Checkpoints</dt>
              <dd>Clear them in order to advance the run.</dd>
            </div>
            <div>
              <dt><span class="legend-dot hazard sirens"></span> Siren Nodes</dt>
              <dd>Ending a surge here while sirens flare trips an interdiction.</dd>
            </div>
            <div>
              <dt><span class="legend-dot hazard blowout"></span> Blowout Nodes</dt>
              <dd>Force a tire change and spike your Heat if you stop on them.</dd>
            </div>
            <div>
              <dt><span class="legend-dot hazard toll"></span> Toll Nodes</dt>
              <dd>Shake down your bankroll and spawn a rival sweep when hot.</dd>
            </div>
            <div>
              <dt><span class="legend-dot rest"></span> Rest Stops</dt>
              <dd>Drop your Heat by five and clear false intel.</dd>
            </div>
          </dl>
        </section>
      </section>
      <section class="simulator" aria-labelledby="simulator-title">
        <div class="simulator-header">
          <h2 id="simulator-title">Route Planner</h2>
          <div class="simulator-controls">
            <button type="button" class="action-button" id="roll-button">Roll High-Speed Dice</button>
            <button type="button" class="action-button" id="commit-button" disabled>Commit Route</button>
            <button type="button" class="action-button" id="undo-button" disabled>Undo Step</button>
            <button type="button" class="action-button" id="bypass-button">Trigger Bypass</button>
          </div>
        </div>
        <p class="simulator-help">
          Roll to reveal your surge and hazard. Plot a connected route that spends every movement point. Ending on a lit hazard
          node spikes your Heat; finishing a checkpoint cools it. The bypass cancels your next checkpoint but eats the current
          surge.
        </p>
        <section class="status-panel" aria-label="Run status">
          <div class="heat-meter" role="group" aria-labelledby="heat-label">
            <span id="heat-label" class="meter-label">Heat</span>
            <div class="meter" role="progressbar" aria-valuemin="0" aria-valuemax="30" aria-valuenow="10" id="heat-meter">
              <div class="meter-fill" id="heat-fill" style="width: 33%"></div>
            </div>
            <span class="meter-value" id="heat-value">10</span>
          </div>
          <div class="checkpoint-readout" id="checkpoint-readout" aria-live="polite">
            Next checkpoint: Silver City
          </div>
          <div class="dice-readout" id="dice-readout" aria-live="polite">
            Waiting for the first roll.
          </div>
        </section>
        <div class="map-wrapper">
          <svg id="route-map" viewBox="0 0 600 360" role="group" aria-label="Highway map"></svg>
        </div>
        <section class="event-log" aria-labelledby="event-log-title">
          <h3 id="event-log-title">Event Log</h3>
          <ul id="event-list"></ul>
        </section>
      </section>
    </main>
    <footer class="page-footer">
      <p>
        Tip: Chain two safe rolls in a row to reset rival intel. Letting Heat max out triggers a cross-country sting and ends
        the run.
      </p>
    </footer>
    <script type="module" src="speed-zone.js"></script>
  </body>
</html>
