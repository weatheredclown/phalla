<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Velvet Syncopation</title>
    <link rel="stylesheet" href="../common.css" />
    <link rel="stylesheet" href="velvet-syncopation.css" />
  </head>
  <body>
    <a class="skip-link" href="#main-content">Skip to game</a>
    <div class="scanlines" aria-hidden="true"></div>
    <header class="page-header">
      <p class="eyebrow">Level 47 · 1989 Arcade</p>
      <h1>Velvet Syncopation</h1>
      <p class="subtitle">
        Keep the Baker brothers locked in and thread the singer's velvet slip cues without cracking the harmony.
      </p>
    </header>
    <main id="main-content" class="page-layout">
      <section class="briefing" aria-labelledby="briefing-title">
        <h2 id="briefing-title">Stage Notes</h2>
        <p>
          Two mirrored piano lanes drive the room. Strike the cobalt and amber keys for the left brother, the teal and crimson
          keys for the right, then weave in the chanteuse's syncopated cues on the half-beats.
        </p>
        <ul class="callouts">
          <li><strong>Piano deck:</strong> Eight-measure runs with mirrored color language for each brother.</li>
          <li><strong>Sync rail:</strong> Velvet slips land between beats and demand two-step cues.</li>
          <li><strong>Harmony meter:</strong> Misses drain the room's vibe; clean runs refill it.</li>
          <li><strong>Showstopper:</strong> Nail a full trio pass to clear the next two measures.</li>
        </ul>
        <section class="key-guide" aria-labelledby="key-guide-title">
          <h3 id="key-guide-title">Key Bindings</h3>
          <dl>
            <div>
              <dt>Left brother</dt>
              <dd><span class="key-label">A</span> cobalt lead · <span class="key-label">S</span> amber comp</dd>
            </div>
            <div>
              <dt>Right brother</dt>
              <dd><span class="key-label">K</span> teal counter · <span class="key-label">L</span> crimson resolve</dd>
            </div>
            <div>
              <dt>Chanteuse sync</dt>
              <dd><span class="key-label">Space</span> breath cue · <span class="key-label">F</span> glide · <span class="key-label">J</span> strike</dd>
            </div>
          </dl>
        </section>
      </section>
      <section class="simulator" aria-labelledby="simulator-title">
        <div class="simulator-header">
          <h2 id="simulator-title">Rehearsal Simulator</h2>
          <div class="simulator-controls">
            <button type="button" class="action-button" id="start-sequence">Start Rehearsal</button>
            <button type="button" class="action-button" id="stop-sequence" disabled>Stop</button>
          </div>
        </div>
        <p class="simulator-help">
          Hit the highlighted keys before the measure advances. Sync cues appear on the slips below each beat.
        </p>
        <div class="harmony-panel" role="group" aria-label="Harmony status">
          <div class="harmony-meter">
            <span class="meter-label">Harmony</span>
            <div class="meter" role="progressbar" aria-valuemin="0" aria-valuemax="100" aria-valuenow="80" id="harmony-meter">
              <div class="meter-fill" id="harmony-fill" style="width: 80%"></div>
            </div>
            <span class="meter-value" id="harmony-value">80</span>
          </div>
          <div class="status-readout" id="status-readout">Waiting to start.</div>
        </div>
        <div class="timeline" id="timeline" aria-label="Beat timeline"></div>
        <div class="virtual-keys" aria-label="Virtual keyboard">
          <button type="button" class="virtual-key" data-code="KeyA">A</button>
          <button type="button" class="virtual-key" data-code="KeyS">S</button>
          <button type="button" class="virtual-key" data-code="KeyK">K</button>
          <button type="button" class="virtual-key" data-code="KeyL">L</button>
          <button type="button" class="virtual-key" data-code="Space">Space</button>
          <button type="button" class="virtual-key" data-code="KeyF">F</button>
          <button type="button" class="virtual-key" data-code="KeyJ">J</button>
        </div>
        <section class="event-log" aria-labelledby="event-log-title">
          <h3 id="event-log-title">Event Log</h3>
          <ul id="event-list"></ul>
        </section>
      </section>
    </main>
    <footer class="page-footer">
      <p>
        Tip: Keep both brothers perfect through a sync cue to trigger a Showstopper and coast through the next two measures.
      </p>
    </footer>
    <script type="module" src="velvet-syncopation.js"></script>
  </body>
</html>
