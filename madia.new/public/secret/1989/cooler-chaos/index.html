<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Cooler Chaos</title>
    <link rel="stylesheet" href="../action-animations.css" />
    <link rel="stylesheet" href="cooler-chaos.css" />
  </head>
  <body>
    <div class="scanlines" aria-hidden="true"></div>
    <header class="page-header">
      <p class="eyebrow">Level 40 · 1989 Arcade</p>
      <h1>Cooler Chaos</h1>
      <p class="subtitle">
        Anchor the Cooler and clear the Double Deuce floor. Contain chaos, eject the rowdies, and keep the glass from taking over the dance tiles.
      </p>
    </header>
    <main class="page-layout">
      <section class="briefing" aria-labelledby="briefing-title">
        <h2 id="briefing-title">Stage Notes</h2>
        <p>
          Troublemakers spill onto the floor in waves, ricocheting off tables and each other. When they slam together they leave behind jagged fields of broken glass that never sweep themselves up. Your Cooler leads with grace—guide them to herd the troublemakers into the glowing ejection lanes before the glass gridlocks the room.
        </p>
        <ul class="callouts">
          <li><strong>Cooler:</strong> Your bouncer pawn starts center stage and can nudge or slide stacks of troublemakers.</li>
          <li><strong>Troublemakers:</strong> Drift at random every beat. Collisions spark <em>Broken Glass</em>, permanently blocking that tile.</li>
          <li><strong>Ejection lanes:</strong> Neon exits on each wall. Shove troublemakers through to clear the count and calm the floor.</li>
          <li><strong>Spawn tempo:</strong> New trouble can pop up whenever the floor gets quiet. Keep the exits busy.</li>
        </ul>
        <section class="key-guide" aria-labelledby="key-guide-title">
          <h3 id="key-guide-title">Key Bindings</h3>
          <dl>
            <div>
              <dt>Movement</dt>
              <dd><span class="key-label">Arrow Keys</span> or <span class="key-label">WASD</span> to slide the Cooler.</dd>
            </div>
            <div>
              <dt>Stabilize</dt>
              <dd><span class="key-label">Space</span> pauses the beat to survey the floor.</dd>
            </div>
            <div>
              <dt>Reset</dt>
              <dd><span class="key-label">R</span> calls in a fresh shift.</dd>
            </div>
          </dl>
        </section>
        <section class="combo-guide" aria-labelledby="combo-guide-title">
          <h3 id="combo-guide-title">Combo Intel</h3>
          <p>
            Clear multiple troublemakers in rapid sequence to trigger the <strong>Be Nice</strong> wipeout bonus. When the combo meter hits three ejects before the beat cooldown expires, nearby shards of broken glass vaporize—buying space for the next rush.
          </p>
        </section>
      </section>
      <section class="simulator" aria-labelledby="simulator-title">
        <div class="simulator-header">
          <h2 id="simulator-title">Cooler Control Deck</h2>
          <div class="simulator-controls">
            <button type="button" class="action-button" id="start-shift">Start Shift</button>
            <button type="button" class="action-button" id="pause-shift">Pause</button>
            <button type="button" class="action-button" id="reset-shift">Reset</button>
          </div>
        </div>
        <p class="simulator-help">
          Guide the Cooler with the arrow keys or on-screen pad. Push troublemakers into the glowing exits, avoid the glass, and keep the floor open. When two rowdies crash, shards drop—too many shards and the floor locks up.
        </p>
        <div class="status-board" role="group" aria-label="Shift status">
          <div class="status-tile">
            <span class="status-label">Ejected</span>
            <span class="status-value" id="ejected-count">0</span>
          </div>
          <div class="status-tile">
            <span class="status-label">Broken Glass</span>
            <span class="status-value" id="glass-count">0</span>
          </div>
          <div class="status-tile">
            <span class="status-label">Combo</span>
            <span class="status-value" id="combo-meter">0 / 3</span>
          </div>
          <div class="status-tile">
            <span class="status-label">Beat</span>
            <span class="status-value" id="beat-count">0</span>
          </div>
        </div>
        <div class="grid-wrapper">
          <div class="legend" aria-hidden="true">
            <span class="legend-item cooler">Cooler</span>
            <span class="legend-item troublemaker">Troublemaker</span>
            <span class="legend-item glass">Broken Glass</span>
            <span class="legend-item exit">Ejection Lane</span>
          </div>
          <div class="bar-grid" id="bar-grid" role="grid" aria-label="Double Deuce floor"></div>
        </div>
        <div class="virtual-pad" aria-label="On-screen movement controls">
          <button type="button" class="pad-button" data-dir="up" aria-label="Move up">▲</button>
          <div class="pad-middle">
            <button type="button" class="pad-button" data-dir="left" aria-label="Move left">◀</button>
            <button type="button" class="pad-button" data-dir="down" aria-label="Move down">▼</button>
            <button type="button" class="pad-button" data-dir="right" aria-label="Move right">▶</button>
          </div>
        </div>
        <section class="event-log" aria-labelledby="event-log-title">
          <h3 id="event-log-title">Floor Log</h3>
          <ul id="event-log"></ul>
        </section>
      </section>
    </main>
    <footer class="page-footer">
      <p>
        Tip: Chain three ejections in rhythm to trigger the <strong>Be Nice</strong> sweep—nearby glass dissolves, and the Cooler has breathing room for the next wave.
      </p>
    </footer>
    <script type="module" src="cooler-chaos.js"></script>
  </body>
</html>
