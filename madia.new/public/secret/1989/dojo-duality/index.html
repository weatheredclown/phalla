<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Dojo Duality</title>
    <link rel="stylesheet" href="../../secret-annex-snes.css" />
    <link rel="stylesheet" href="../common.css" />
    <link rel="stylesheet" href="dojo-duality.css" />
  </head>
  <body class="secret-annex-snes">
    <a class="skip-link" href="#main-content">Skip to game</a>
    <div class="scanlines" aria-hidden="true"></div>
    <header class="page-header">
      <p class="eyebrow">Level 34 · 1989 Arcade</p>
      <h1>Dojo Duality</h1>
      <p class="subtitle">
        Balance Miyagi-Do calm against Cobra Kai aggression while keeping Daniel's focus centered on the mat.
      </p>
    </header>
    <main id="main-content" class="page-layout">
      <section class="briefing" aria-labelledby="briefing-title">
        <h2 id="briefing-title">Training Brief</h2>
        <p>
          Terry Silver's mind games tilt the tatami with every drop. Miyagi-Do blocks steady Daniel's breathing, while Cobra
          Kai strikes crank the fear meter. Lock pieces, clear aligned stances, and keep the balance meter hovering near zero
          long enough to earn your Crane Kick wipeout.
        </p>
        <ul class="callouts">
          <li>
            <strong>Balance meter:</strong> Tracks Daniel's focus from calm (center) to overwhelmed (edges). Matching like
            blocks pushes it toward their dojo—keeping it near zero protects your breathing room.
          </li>
          <li>
            <strong>Defense combo:</strong> Clearing Miyagi-Do formations fills this reserve. Max it out to ready a Crane Kick
            wipeout that scrubs Cobra Kai influence.
          </li>
          <li>
            <strong>Fear meter:</strong> Cobra Kai clears spike this fast. Let it fill and Daniel freezes while pieces tumble at
            Silver's tempo.
          </li>
          <li>
            <strong>Victory:</strong> Survive until the board tops out while posting your strongest focus score.
          </li>
        </ul>
        <section class="controls" aria-labelledby="controls-title">
          <h3 id="controls-title">Controls</h3>
          <dl>
            <div>
              <dt>Start match</dt>
              <dd>Press <strong>Begin Match</strong> to drop the first block.</dd>
            </div>
            <div>
              <dt>Move stance</dt>
              <dd>Use <strong>←</strong>/<strong>→</strong> to slide, <strong>↓</strong> to fast drop, and <strong>Z</strong>/<strong>X</strong> to rotate.</dd>
            </div>
            <div>
              <dt>Crane Kick wipeout</dt>
              <dd>Hit <strong>Crane Kick</strong> or tap <strong>Space</strong> when the Defense Combo is full to clear Cobra Kai blocks and reset.</dd>
            </div>
            <div>
              <dt>Reset</dt>
              <dd>Press <strong>Reset</strong> to restart the training session.</dd>
            </div>
          </dl>
        </section>
      </section>
      <section class="arena" aria-labelledby="arena-title">
        <div class="arena-header">
          <h2 id="arena-title">Miyagi-Do Mat</h2>
          <div class="arena-controls" role="group" aria-label="Match controls">
            <button type="button" class="action-button" id="start-match">Begin Match</button>
            <button type="button" class="action-button" id="reset-match">Reset</button>
            <button type="button" class="action-button" id="crane-kick" disabled>Crane Kick</button>
          </div>
        </div>
        <div class="dojo-status" role="status" aria-live="polite" id="dojo-status">Press Begin Match to steady your stance.</div>
        <div class="gauges">
          <section class="meter" aria-labelledby="balance-label">
            <header class="meter-header">
              <div class="meter-title" id="balance-label">Balance Meter</div>
              <span class="meter-reading" id="balance-reading">0</span>
            </header>
            <div class="balance-track" aria-hidden="true">
              <div class="balance-origin"></div>
              <div class="balance-marker" id="balance-marker"></div>
            </div>
          </section>
          <section class="meter" aria-labelledby="defense-label">
            <header class="meter-header">
              <div class="meter-title" id="defense-label">Defense Combo</div>
              <span class="meter-reading" id="defense-reading">0%</span>
            </header>
            <div class="meter-track" aria-hidden="true">
              <div class="meter-fill defense" id="defense-fill"></div>
            </div>
          </section>
          <section class="meter" aria-labelledby="fear-label">
            <header class="meter-header">
              <div class="meter-title" id="fear-label">Fear Meter</div>
              <span class="meter-reading" id="fear-reading">0%</span>
            </header>
            <div class="meter-track" aria-hidden="true">
              <div class="meter-fill fear" id="fear-fill"></div>
            </div>
          </section>
        </div>
        <div class="dojo-emblem" aria-hidden="true">
          <div class="emblem-ring"></div>
          <div class="emblem-flower"></div>
          <div class="emblem-kanji">心</div>
        </div>
        <div class="board-wrapper">
          <div class="board" id="board" role="grid" aria-label="Balance block grid"></div>
          <ul class="legend" aria-label="Legend">
            <li><span class="legend-swatch positive"></span> Miyagi-Do block</li>
            <li><span class="legend-swatch negative"></span> Cobra Kai block</li>
            <li><span class="legend-swatch neutral"></span> Empty grid</li>
          </ul>
        </div>
        <section class="log" aria-labelledby="log-title">
          <h3 id="log-title">Dojo Log</h3>
          <ul id="log-entries"></ul>
        </section>
      </section>
    </main>
    <footer class="page-footer">
      <p>
        Tip: Riding the line near zero is safer than stacking positives. Let a Cobra Kai clear steady the balance before firing
        off a Crane Kick for the decisive wipeout.
      </p>
    </footer>
    <script type="module" src="dojo-duality.js"></script>
  </body>
</html>
