<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vendetta Convoy</title>
    <link rel="stylesheet" href="vendetta-convoy.css" />
  </head>
  <body>
    <div class="scanlines" aria-hidden="true"></div>
    <header class="page-header">
      <p class="eyebrow">Level 36 · 1989 Arcade</p>
      <h1>Vendetta Convoy</h1>
      <p class="subtitle">
        Clear the cartel causeway one sabotage at a time, guiding the tanker convoy toward the cliffside rendezvous before the explosives reshuffle your odds.
      </p>
    </header>
    <main class="page-layout">
      <section class="briefing" aria-labelledby="briefing-title">
        <h2 id="briefing-title">Stage Notes</h2>
        <p>
          Sanchez rebuilt his valley compound into a layered gauntlet. Surveillance tags every scrap of evidence along the tanker lane, but some crates hide pressure triggers wired to slam the convoy off-course. Chain rock charges in sequence to pry open the path without nudging the live explosives.
        </p>
        <ul class="callouts">
          <li><strong>Evidence crates:</strong> Conceal the lane. Match three nearby rock charges to vaporise a crate.</li>
          <li><strong>Concealed explosives:</strong> Indistinguishable until scanned. Detonating one scrambles every remaining tanker rig.</li>
          <li><strong>Actuation meter:</strong> Represents the convoy’s throttle. Every sabotage or convoy advance drains the meter—Phoenix wipes refill it.</li>
          <li><strong>Intel scans:</strong> Limited to three. Spend them to reveal whether a crate is clean or wired.</li>
          <li><strong>Phoenix combo:</strong> Fill an entire tanker lane row to ignite a wipeout that purges nearby evidence and boosts the meter.</li>
        </ul>
        <section class="key-guide" aria-labelledby="key-guide-title">
          <h3 id="key-guide-title">Key Bindings</h3>
          <dl>
            <div>
              <dt>Select Rocks</dt>
              <dd>Click three rock tiles that share an evidence crate.</dd>
            </div>
            <div>
              <dt>Sabotage</dt>
              <dd>Click a highlighted crate to trigger the charges.</dd>
            </div>
            <div>
              <dt>Advance Tanker</dt>
              <dd><span class="key-label">A</span> or the <span class="key-label">Advance Tanker</span> button.</dd>
            </div>
            <div>
              <dt>Scan</dt>
              <dd><span class="key-label">S</span> or the <span class="key-label">Spend Intel Scan</span> button.</dd>
            </div>
            <div>
              <dt>Reset</dt>
              <dd><span class="key-label">R</span> or the <span class="key-label">Reset</span> button.</dd>
            </div>
          </dl>
        </section>
        <section class="combo-guide" aria-labelledby="combo-guide-title">
          <h3 id="combo-guide-title">Combo Intel</h3>
          <p>
            The <strong>Phoenix</strong> combo triggers when a tanker piece locks a full lane row. The wipeout cleanses adjacent evidence—explosive or otherwise—and restores convoy actuation for the next push.
          </p>
        </section>
      </section>
      <section class="simulator" aria-labelledby="simulator-title">
        <div class="simulator-header">
          <h2 id="simulator-title">Sabotage Console</h2>
          <div class="simulator-controls">
            <button type="button" class="action-button" id="start-operation">Start Operation</button>
            <button type="button" class="action-button" id="advance-tanker">Advance Tanker</button>
            <button type="button" class="action-button" id="intel-scan">Spend Intel Scan</button>
            <button type="button" class="action-button" id="reset-operation">Reset</button>
          </div>
        </div>
        <p class="simulator-help">
          Sequence rock charges around crates to clear the tanker lane. Unknown crates may hide explosive countermeasures—trip one and every remaining tanker rig scrambles to a new drop point. Keep the actuation meter alive, track your remaining scans, and shepherd each tanker module to the canyon exit.
        </p>
        <div class="status-board" role="group" aria-label="Operation status">
          <div class="status-tile">
            <span class="status-label">Actuation</span>
            <div class="status-meter" role="progressbar" aria-valuemin="0" aria-valuemax="100" aria-valuenow="0" id="actuation-bar">
              <div class="status-meter-fill" id="actuation-fill"></div>
            </div>
            <span class="status-value" id="actuation-text">0%</span>
          </div>
          <div class="status-tile">
            <span class="status-label">Evidence Cleared</span>
            <span class="status-value" id="evidence-count">0</span>
          </div>
          <div class="status-tile">
            <span class="status-label">Scans Remaining</span>
            <span class="status-value" id="scan-count">0</span>
          </div>
          <div class="status-tile">
            <span class="status-label">Explosives Tripped</span>
            <span class="status-value" id="explosive-count">0</span>
          </div>
          <div class="status-tile">
            <span class="status-label">Phoenix Bursts</span>
            <span class="status-value" id="phoenix-count">0</span>
          </div>
        </div>
        <div class="compound-wrapper">
          <div class="legend" aria-hidden="true">
            <span class="legend-item tanker">Tanker Module</span>
            <span class="legend-item evidence">Evidence (unknown)</span>
            <span class="legend-item explosive">Revealed Explosive</span>
            <span class="legend-item rock">Rock Charge</span>
            <span class="legend-item cleared">Cleared Lane</span>
          </div>
          <div class="compound-grid" id="compound-grid" role="grid" aria-label="Sanchez compound grid"></div>
          <aside class="queue-panel" aria-label="Tanker queue">
            <h3>Tanker Queue</h3>
            <div class="tanker-queue" id="tanker-queue"></div>
          </aside>
        </div>
        <p class="operation-status" id="operation-status">Press Start Operation to begin the sabotage run.</p>
        <section class="event-log" aria-labelledby="event-log-title">
          <h3 id="event-log-title">Field Log</h3>
          <ul id="event-log"></ul>
        </section>
      </section>
    </main>
    <footer class="page-footer">
      <p>
        Tip: Clear safe crates before gambling on a scan. The convoy only needs one Phoenix wipe to blitz the courtyard, but a stray explosive will reset your formation.
      </p>
    </footer>
    <script type="module" src="vendetta-convoy.js"></script>
  </body>
</html>
