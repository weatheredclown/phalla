<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Hoverboard Pursuit</title>
    <link rel="stylesheet" href="../../secret-annex-snes.css" />
    <link rel="stylesheet" href="../common.css" />
    <link rel="stylesheet" href="hoverboard-pursuit.css" />
  </head>
  <body class="secret-annex-snes">
    <a class="skip-link" href="#main-content">Skip to game</a>
    <div class="scanlines" aria-hidden="true"></div>
    <header class="page-header">
      <p class="eyebrow">Level 26 · 1989 Arcade</p>
      <h1>Hoverboard Pursuit</h1>
      <p class="subtitle">
        Thread Hill Valley's future skyways, skim the water hazards, and outrun Griff's gang to post the sharpest time on record.
      </p>
    </header>
    <main id="main-content" class="page-layout">
      <section class="briefing" aria-labelledby="briefing-title">
        <h2 id="briefing-title">Mission Protocol</h2>
        <p>
          This time-trial circuit is split into three escalating sectors. Town Square Dash introduces the floaty momentum and
          rolling traffic. Suburban Skim layers in water hazards and automated block parties. The Tunnel Chase finale throws
          Griff's crew and collapsing infrastructure directly into your line. Finish the full gauntlet faster than the clock can
          blink.
        </p>
        <ul class="callouts">
          <li>
            <strong>Persistent timer:</strong> The HUD timer never stops. Collisions knock seconds off your pace. Clean routes and
            boost chaining are the only way to stay ahead.
          </li>
          <li>
            <strong>Boost economy:</strong> Near-miss traffic dodges, water skims, and rail grinds bank Boost Charge. Spend 30%
            charge for a turbo burst that compresses the phase in front of you.
          </li>
          <li>
            <strong>Shortcuts vs. safety:</strong> Risky construction lanes, railed skyways, and tunnel maintenance hatches can
            shave huge chunks of time—if you thread them. Miss the cue and you respawn mid-lane with a time penalty.
          </li>
          <li>
            <strong>Feedback:</strong> Crash shocks trigger screen shake, static interference, and siren chords before the board
            re-stabilizes. Boost trails flare neon purple when you hit overdrive.
          </li>
        </ul>
        <section class="controls" aria-labelledby="controls-title">
          <h3 id="controls-title">Controls</h3>
          <dl>
            <div>
              <dt>Shift lanes</dt>
              <dd>Press <span class="key-label">←</span> / <span class="key-label">→</span> or use the lane buttons.</dd>
            </div>
            <div>
              <dt>Engage boost</dt>
              <dd>Hold <span class="key-label">Shift</span> or press <strong>Boost</strong> when the meter is at least 30%.</dd>
            </div>
            <div>
              <dt>Reset run</dt>
              <dd>Press <span class="key-label">R</span> or choose <strong>Reset Run</strong> to restart from Town Square.</dd>
            </div>
          </dl>
        </section>
      </section>
      <section class="race-console" aria-labelledby="console-title">
        <div class="console-header">
          <h2 id="console-title">Hill Valley Time Trial</h2>
          <div class="console-actions">
            <button type="button" class="action-button" id="start-button">Start Run</button>
            <button type="button" class="action-button" id="reset-button">Reset Run</button>
          </div>
        </div>
        <div class="race-hud" role="group" aria-label="Race HUD">
          <div class="timer" id="race-timer" aria-live="polite">00:00.000</div>
          <div class="phase-tracker" role="list">
            <div class="phase-chip" data-phase="town" role="listitem">
              <span class="phase-label">Town Square Dash</span>
              <span class="phase-time" data-phase-time="town">--:--.---</span>
            </div>
            <div class="phase-chip" data-phase="suburb" role="listitem">
              <span class="phase-label">Suburban Skim</span>
              <span class="phase-time" data-phase-time="suburb">--:--.---</span>
            </div>
            <div class="phase-chip" data-phase="tunnel" role="listitem">
              <span class="phase-label">Tunnel Chase</span>
              <span class="phase-time" data-phase-time="tunnel">--:--.---</span>
            </div>
          </div>
          <div class="boost-readout" role="group" aria-label="Boost charge">
            <span class="boost-label">Boost</span>
            <div class="boost-meter" role="progressbar" aria-valuemin="0" aria-valuemax="100" aria-valuenow="0" id="boost-meter">
              <div class="boost-fill" id="boost-fill"></div>
            </div>
            <span class="boost-value" id="boost-value">0%</span>
          </div>
        </div>
        <div class="track-wrapper">
          <div class="track" id="race-track" aria-label="Hoverboard lane" role="presentation">
            <div class="track-holo" aria-hidden="true"></div>
            <div class="lane-divider" aria-hidden="true"></div>
            <div class="lane-divider" aria-hidden="true"></div>
            <div class="hoverboard" id="player-board" aria-live="off" aria-label="Player hoverboard"></div>
            <div class="hoverboard ghost" id="ghost-board" aria-label="Ghost replay" hidden></div>
          </div>
          <div class="static-overlay" id="crash-static" aria-hidden="true"></div>
        </div>
        <div class="control-bar" role="group" aria-label="Board controls">
          <div class="lane-controls">
            <button type="button" class="action-button" data-direction="left" aria-label="Shift left">◀</button>
            <button type="button" class="action-button" data-direction="right" aria-label="Shift right">▶</button>
          </div>
          <button type="button" class="action-button" id="boost-button" aria-pressed="false">Boost</button>
          <div class="status-readout" id="status-bar" role="status" aria-live="polite">Waiting on the line.</div>
        </div>
        <section class="event-feed" aria-labelledby="event-feed-title">
          <h3 id="event-feed-title">Run Feed</h3>
          <ul id="event-log"></ul>
        </section>
      </section>
    </main>
    <footer class="page-footer">
      <p>
        Tip: Stack a near-miss into a rail grind, then trigger boost as you exit the grind to chain into the tunnel shortcuts.
        The clock barely registers the transition.
      </p>
    </footer>
    <section class="wrap-up" id="wrap-up" role="dialog" aria-modal="true" aria-labelledby="wrap-up-title" hidden>
      <div class="wrap-up-card">
        <h2 id="wrap-up-title">Run Complete</h2>
        <p class="wrap-up-time">
          Final Time: <span id="final-time">00:00.000</span>
        </p>
        <dl class="split-list">
          <div>
            <dt>Town Square Dash</dt>
            <dd id="split-town">--:--.---</dd>
          </div>
          <div>
            <dt>Suburban Skim</dt>
            <dd id="split-suburb">--:--.---</dd>
          </div>
          <div>
            <dt>Tunnel Chase</dt>
            <dd id="split-tunnel">--:--.---</dd>
          </div>
        </dl>
        <div class="wrap-up-actions">
          <button type="button" class="action-button" id="replay-button">Run It Back</button>
          <button type="button" class="action-button" id="ghost-button">Load Ghost Replay</button>
          <button type="button" class="action-button" id="close-wrap-up">Close</button>
        </div>
        <p class="wrap-up-note" id="wrap-up-note">
          Ghost data saves your best line locally. Loading it mirrors your path as a translucent board next run.
        </p>
      </div>
    </section>
    <script type="module" src="hoverboard-pursuit.js"></script>
  </body>
</html>
