<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Say Anything...</title>
    <link rel="stylesheet" href="../action-animations.css" />
    <link rel="stylesheet" href="say-anything.css" />
  </head>
  <body>
    <div class="scanlines" aria-hidden="true"></div>
    <header class="page-header">
      <p class="eyebrow">Level 44 · 1989 Arcade</p>
      <h1>Say Anything...</h1>
      <p class="subtitle">
        Bridge Lloyd and Diane's wavelengths by locking emotional frequencies in tandem and keeping the conversation alive.
      </p>
    </header>
    <main class="page-layout">
      <section class="briefing" aria-labelledby="briefing-title">
        <h2 id="briefing-title">Stage Notes</h2>
        <p>
          Two adjacent tracks carry Lloyd's boombox pulses and Diane's inner dialogue. Match their emotional frequencies in sync
          to keep the communication flow meter steady. Silence pockets threaten to break the moment—charge the boombox to bridge
          them before doubt seeps in.
        </p>
        <ul class="callouts">
          <li><strong>Frequency blocks:</strong> Love, Trust, and Reassure glow cobalt; Static, Doubt, and Guard flash amber.</li>
          <li><strong>Sync window:</strong> Hit both tracks within half a beat; staggered responses will drain the flow.</li>
          <li><strong>Silence gaps:</strong> Deploy a <em>Boombox Charge</em> to keep the reel spinning when both tracks drop out.</li>
          <li><strong>Commitment combo:</strong> Pair positive blocks back-to-back to wipe nearby miscommunication clouds.</li>
        </ul>
        <section class="key-guide" aria-labelledby="key-guide-title">
          <h3 id="key-guide-title">Key Bindings</h3>
          <dl>
            <div>
              <dt>Lloyd's track</dt>
              <dd><span class="key-label">A</span> Love · <span class="key-label">S</span> Reassure · <span class="key-label">D</span> Static</dd>
            </div>
            <div>
              <dt>Diane's track</dt>
              <dd><span class="key-label">J</span> Trust · <span class="key-label">K</span> Guard · <span class="key-label">L</span> Doubt</dd>
            </div>
            <div>
              <dt>Boombox charge</dt>
              <dd><span class="key-label">Space</span> Hold the moment during silence gaps.</dd>
            </div>
          </dl>
        </section>
        <section class="combo-guide" aria-labelledby="combo-guide-title">
          <h3 id="combo-guide-title">Combo Intel</h3>
          <p>
            Matching positive frequencies (Love, Trust, Reassure) inside the sync window boosts flow and clears queued
            miscommunication blocks. Stack three perfect positive matches to trigger a <strong>Commitment Sweep</strong> that
            vaporizes every active negative cloud.
          </p>
        </section>
      </section>
      <section class="simulator" aria-labelledby="simulator-title">
        <div class="simulator-header">
          <h2 id="simulator-title">Communication Simulator</h2>
          <div class="simulator-controls">
            <button type="button" class="action-button" id="start-session">Start Conversation</button>
            <button type="button" class="action-button" id="reset-session" disabled>Reset</button>
          </div>
        </div>
        <p class="simulator-help">
          Watch the blocks slide down each track. Answer Lloyd and Diane within the same beat to keep the flow alive. When the
          grid goes silent, charge the boombox before the meter empties.
        </p>
        <div class="flow-panel" role="group" aria-label="Communication status">
          <div class="meter-group">
            <span class="meter-label">Communication Flow</span>
            <div class="meter" role="progressbar" aria-valuemin="0" aria-valuemax="100" aria-valuenow="72" id="flow-meter">
              <div class="meter-fill" id="flow-fill" style="width: 72%"></div>
            </div>
            <span class="meter-value" id="flow-value">72</span>
          </div>
          <div class="boombox-charge" id="boombox-charge" aria-live="polite">Boombox idle.</div>
        </div>
        <div class="arena" aria-label="Frequency lanes">
          <div class="lane" aria-label="Lloyd's lane">
            <h3 class="lane-title">Lloyd</h3>
            <div class="track" id="lloyd-track">
              <div class="match-zone" aria-hidden="true">Match Zone</div>
            </div>
          </div>
          <div class="lane" aria-label="Diane's lane">
            <h3 class="lane-title">Diane</h3>
            <div class="track" id="diane-track">
              <div class="match-zone" aria-hidden="true">Match Zone</div>
            </div>
          </div>
        </div>
        <div class="virtual-keys" aria-label="On-screen controls">
          <button type="button" class="virtual-key" data-code="KeyA">A</button>
          <button type="button" class="virtual-key" data-code="KeyS">S</button>
          <button type="button" class="virtual-key" data-code="KeyD">D</button>
          <button type="button" class="virtual-key" data-code="KeyJ">J</button>
          <button type="button" class="virtual-key" data-code="KeyK">K</button>
          <button type="button" class="virtual-key" data-code="KeyL">L</button>
          <button type="button" class="virtual-key" data-code="Space">Space</button>
        </div>
        <section class="status-panel" aria-labelledby="status-title">
          <h3 id="status-title">Status</h3>
          <p id="status-readout">Waiting to start.</p>
        </section>
        <section class="clouds" aria-labelledby="clouds-title">
          <h3 id="clouds-title">Miscommunication Clouds</h3>
          <ul id="cloud-list"></ul>
        </section>
        <section class="event-log" aria-labelledby="event-log-title">
          <h3 id="event-log-title">Event Log</h3>
          <ul id="event-log"></ul>
        </section>
      </section>
    </main>
    <footer class="page-footer">
      <p>
        Tip: A perfect run of Love → Trust → Reassure inside the sync window ignites the Commitment Sweep—every nearby miscue
        fades, and the meter surges back.
      </p>
    </footer>
    <script type="module" src="say-anything.js"></script>
  </body>
</html>
