<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Toilet Bomb Disposal</title>
    <link rel="stylesheet" href="../../secret-annex-snes.css" />
    <link rel="stylesheet" href="../common.css" />
    <link rel="stylesheet" href="toilet-bomb-disposal.css" />
  </head>
  <body class="secret-annex-snes">
    <a class="skip-link" href="#main-content">Skip to game</a>
    <div class="scanlines" aria-hidden="true"></div>
    <header class="page-header">
      <p class="eyebrow">Level 10 · 1989 Arcade</p>
      <h1>Toilet Bomb Disposal</h1>
      <p class="subtitle">
        Lock onto Riggs' nightmare scenario: a porcelain-mounted explosive counting down from two minutes.
        Read every clue, follow the sequence, and resist the urge to gamble on a reckless shortcut.
      </p>
    </header>
    <main id="main-content" class="page-layout">
      <section class="briefing" aria-labelledby="briefing-title">
        <h2 id="briefing-title">Disposal Notes</h2>
        <p>
          The bomb is wired into the plumbing, pressure plate, and motion sensor.
          You only get one run: the timer is live the moment the console boots.
          Study the scribbled maintenance notes and the mirror reflection to map the safe order.
        </p>
        <ul class="callouts">
          <li>
            <strong>Setup:</strong> Scan the scene. Hover over the post-it, badge, and mirror to reveal hard-earned intel from
            previous bomb techs. Every clue matters.
          </li>
          <li>
            <strong>Sequence:</strong> Start with the colored wires, then defeat the motion sensor, and finally balance the
            pressure plate. Skipping steps or breaking the order costs precious time.
          </li>
          <li>
            <strong>Mistakes:</strong> Cutting a bad wire or forcing the wrong override shaves 25 seconds off the clock and
            jolts the rig. Too many shocks and you'll never recover.
          </li>
          <li>
            <strong>Riggs Maneuver:</strong> Riggs keeps chirping in with shortcuts. Clicking his advice might skip a step and
            buy a top score—or it might vaporize the bathroom instantly. Your nerves decide.
          </li>
          <li>
            <strong>Wrap-Up:</strong> Nail the sequence to submit your remaining time as a high score. Pull a successful Riggs
            Maneuver and you earn a badge for the record.
          </li>
        </ul>
      </section>
      <section class="simulator" aria-labelledby="simulator-title">
        <div class="simulator-header">
          <h2 id="simulator-title">Porcelain Control Console</h2>
          <div class="timer-display" role="timer" aria-live="assertive" aria-atomic="true">
            <span class="timer-label">Countdown</span>
            <span class="timer-value" id="timer-value">02:00.0</span>
          </div>
          <div class="status-flags" role="status" aria-live="polite">
            <span class="flag" id="phase-flag">Phase: Wires</span>
            <span class="flag" id="riggs-flag">Riggs Quiet</span>
          </div>
        </div>
        <p class="simulator-help" id="simulator-help">
          The timer is live. Work left to right. You must cut the safe wires, drop the motion sensor into maintenance, and then
          balance the counterweight to lift the seat. Sloppy moves bleed time.
        </p>
        <div class="intel-board" role="group" aria-label="Scene intel">
          <article class="intel-card" aria-labelledby="intel-note-title">
            <h3 id="intel-note-title">Maintenance Note</h3>
            <p>
              "Prime numbers survive. Mirror the order before you snip.
              Pulse the sweep, choke the field, then kill the juice.
              Pressure equalizes when you stack the soaked weight with the dry twins."
            </p>
          </article>
          <article class="intel-card" aria-labelledby="intel-badge-title">
            <h3 id="intel-badge-title">Locker Badge</h3>
            <p>
              Engraved across the badge's edge: <span class="badge-code">1 · 2 · 3 · 4</span>.
              The reflection flips them—only the primes keep their courage.
            </p>
          </article>
          <article class="intel-card" aria-labelledby="intel-mirror-title">
            <h3 id="intel-mirror-title">Mirror Glare</h3>
            <p>
              In the mirror the wiring labels read from right to left.
              The soaked counterweight is tagged cobalt.
              The pressure gauge wants <strong>42 lbs</strong> even.
            </p>
          </article>
        </div>
        <div class="bomb-panel">
          <section class="panel-section" id="wires-panel" aria-labelledby="wires-title">
            <header class="panel-header">
              <h3 id="wires-title">Wire Harness</h3>
              <p>Cut only the safe leads. Sequence matters.</p>
            </header>
            <div class="wire-grid" role="group" aria-label="Wire controls">
              <button type="button" class="wire" data-wire="red" aria-label="Cut red wire">
                <span class="wire-label">Red</span>
              </button>
              <button type="button" class="wire" data-wire="yellow" aria-label="Cut yellow wire">
                <span class="wire-label">Yellow</span>
              </button>
              <button type="button" class="wire" data-wire="green" aria-label="Cut green wire">
                <span class="wire-label">Green</span>
              </button>
              <button type="button" class="wire" data-wire="blue" aria-label="Cut blue wire">
                <span class="wire-label">Blue</span>
              </button>
            </div>
            <p class="panel-status" id="wire-status">Ready to cut. Only prime positions survive the mirror.</p>
          </section>
          <section class="panel-section" id="sensor-panel" aria-labelledby="sensor-title" hidden>
            <header class="panel-header">
              <h3 id="sensor-title">Motion Sensor</h3>
              <p>Drop the sensor into maintenance mode without tripping it.</p>
            </header>
            <form class="sensor-form" aria-describedby="sensor-instructions">
              <fieldset>
                <legend>Sweep Pattern</legend>
                <label>
                  <input type="radio" name="sweep" value="continuous" checked />
                  Continuous
                </label>
                <label>
                  <input type="radio" name="sweep" value="pulse" />
                  Pulse
                </label>
              </fieldset>
              <fieldset>
                <legend>Field Width</legend>
                <label>
                  <input type="radio" name="field" value="wide" checked />
                  Wide
                </label>
                <label>
                  <input type="radio" name="field" value="narrow" />
                  Narrow
                </label>
              </fieldset>
              <fieldset>
                <legend>Power State</legend>
                <label>
                  <input type="radio" name="power" value="active" checked />
                  Active
                </label>
                <label>
                  <input type="radio" name="power" value="standby" />
                  Standby
                </label>
              </fieldset>
              <button type="submit" class="action-button">Apply Override</button>
            </form>
            <p class="panel-status" id="sensor-status">
              Sequence reminder: pulse first, choke the field second, kill the juice last.
            </p>
          </section>
          <section class="panel-section" id="pressure-panel" aria-labelledby="pressure-title" hidden>
            <header class="panel-header">
              <h3 id="pressure-title">Pressure Plate</h3>
              <p>Stack counterweights to raise the seat without triggering the fail-safe.</p>
            </header>
            <div class="pressure-controls" role="group" aria-label="Counterweight selection">
              <label class="weight-toggle">
                <input type="checkbox" value="dry-a" />
                <span class="weight-label">Dry Shim A · 10 lbs</span>
              </label>
              <label class="weight-toggle">
                <input type="checkbox" value="dry-b" />
                <span class="weight-label">Dry Shim B · 12 lbs</span>
              </label>
              <label class="weight-toggle">
                <input type="checkbox" value="soaked" />
                <span class="weight-label">Soaked Cobalt Shim · 10 lbs × 2</span>
              </label>
              <label class="weight-toggle">
                <input type="checkbox" value="toolkit" />
                <span class="weight-label">Tool Roll · 8 lbs</span>
              </label>
            </div>
            <button type="button" class="action-button" id="pressure-apply">Set Counterweight</button>
            <p class="panel-status" id="pressure-status">
              Target is 42 lbs even. Soaked shim counts double. Only the right trio lifts the plate.
            </p>
          </section>
        </div>
        <section class="riggs-feed" aria-live="assertive" aria-label="Riggs advice" id="riggs-feed"></section>
        <section class="event-feed" aria-live="polite" aria-label="Status log">
          <h3>Event Log</h3>
          <ul id="event-log"></ul>
        </section>
      </section>
    </main>
    <footer class="page-footer">
      <p>
        Keep your breathing steady and your clicks deliberate. Two minutes is generous if you trust the process—reckless hands
        earn porcelain shrapnel.
      </p>
    </footer>
    <section class="wrapup" id="wrapup" hidden aria-live="polite">
      <div class="wrapup-dialog" role="dialog" aria-modal="true" aria-labelledby="wrapup-title" tabindex="-1">
        <header class="wrapup-header">
          <h2 id="wrapup-title">Disposal Report</h2>
          <p id="wrapup-subtitle"></p>
        </header>
        <div class="wrapup-body">
          <p><strong>Time Remaining:</strong> <span id="wrapup-time">00:00.0</span></p>
          <p><strong>Riggs Maneuver:</strong> <span id="wrapup-riggs">Not Attempted</span></p>
          <p><strong>Mistakes:</strong> <span id="wrapup-mistakes">0</span></p>
        </div>
        <footer class="wrapup-footer">
          <button type="button" class="action-button" id="wrapup-retry">Retry Bomb</button>
          <button type="button" class="action-button" id="wrapup-close">Exit Console</button>
        </footer>
      </div>
    </section>
    <script type="module" src="toilet-bomb-disposal.js"></script>
  </body>
</html>
