<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Gates of Eastside</title>
    <link rel="stylesheet" href="../../secret-annex-snes.css" />
    <link rel="stylesheet" href="../common.css" />
    <link rel="stylesheet" href="gates-of-eastside.css" />
  </head>
  <body class="secret-annex-snes">
    <a class="skip-link" href="#main-content">Skip to game</a>
    <div class="scanlines" aria-hidden="true"></div>
    <header class="page-header">
      <p class="eyebrow">Level 37 Â· 1989 Arcade</p>
      <h1>Gates of Eastside</h1>
      <p class="subtitle">
        Joe Clark&rsquo;s bullhorn echoes down Eastside High. Clear the hallways, charge the MBST bar, and haul every study crew to their goals.
      </p>
    </header>
    <main id="main-content" class="page-layout">
      <section class="briefing" aria-labelledby="briefing-title">
        <h2 id="briefing-title">Hallway Briefing</h2>
        <p>
          Eastside&rsquo;s corridors are gridlocked. Troublemakers flare up without warning, choking off the Study Flow and draining morale. Match and expel them, pump the Minimum Basic Skills Test meter, and shepherd each lane until the Test Score Bars light.
        </p>
        <ul class="callouts">
          <li><strong>Troublemakers:</strong> Randomly appear along the halls. Match three of the same crew to expel them.</li>
          <li><strong>MBST Bar:</strong> Each expulsion primes a segment. Spend segments when Study Flow reaches the students.</li>
          <li><strong>Study Flow:</strong> Blocks enter from the left and march right if the lane is clear. Deliveries fuel the Test Score Bars.</li>
          <li><strong>Chain the Gates:</strong> One shot to freeze new trouble and focus entirely on routing Study Flow.</li>
        </ul>
        <section class="action-guide" aria-labelledby="action-guide-title">
          <h3 id="action-guide-title">Actions</h3>
          <dl>
            <div>
              <dt>Start Hall Sweep</dt>
              <dd>Reset the halls, ready the gates, and begin the live simulation.</dd>
            </div>
            <div>
              <dt>Select Troublemakers</dt>
              <dd>Tap three matching blockers to expel them and charge the MBST bar.</dd>
            </div>
            <div>
              <dt>Route Study Flow</dt>
              <dd>Keep lanes clear so Study Flow blocks can deliver scores. Deliveries spend MBST charge to fill Test Score Bars.</dd>
            </div>
            <div>
              <dt>Chain the Gates</dt>
              <dd>Once per run, freeze fresh trouble for a few beats. Use the window to bank big scores.</dd>
            </div>
          </dl>
        </section>
      </section>
      <section class="control-room" aria-labelledby="control-room-title">
        <div class="control-room-header">
          <h2 id="control-room-title">Eastside Control Room</h2>
          <div class="run-controls">
            <button type="button" class="action-button" id="start-shift">Start Hall Sweep</button>
            <button type="button" class="action-button" id="call-assembly" disabled>Call Assembly</button>
            <button type="button" class="action-button" id="chain-gates" disabled>Chain the Gates</button>
          </div>
        </div>
        <p class="control-room-help">
          Troublemakers block movement and raise the Chaos meter. Keep routing Study Flow to the students while feeding MBST charge into the Test Score Bars. Let chaos reach the red line and the halls erupt.
        </p>
        <div class="status-grid" role="group" aria-label="Run status">
          <div class="status-card">
            <div class="meter-head">
              <span class="meter-title">MBST Bar</span>
              <span class="meter-value" id="mbst-label">0%</span>
            </div>
            <div
              class="meter"
              id="mbst-meter"
              role="progressbar"
              aria-valuemin="0"
              aria-valuemax="100"
              aria-valuenow="0"
            >
              <div class="meter-fill" id="mbst-fill" style="width: 0%"></div>
            </div>
            <p class="meter-caption">Expel trouble to unlock MBST segments.</p>
          </div>
          <div class="status-card">
            <div class="meter-head">
              <span class="meter-title">Test Score Bars</span>
              <span class="meter-value" id="test-score-label">0 / 120</span>
            </div>
            <div
              class="meter"
              id="test-score-meter"
              role="progressbar"
              aria-valuemin="0"
              aria-valuemax="120"
              aria-valuenow="0"
            >
              <div class="meter-fill is-test" id="test-score-fill" style="width: 0%"></div>
            </div>
            <p class="meter-caption">Study Flow deliveries convert MBST charge into score.</p>
          </div>
          <div class="status-card">
            <div class="meter-head">
              <span class="meter-title">Chaos Level</span>
              <span class="meter-value" id="chaos-label">0 / 18</span>
            </div>
            <div
              class="meter"
              id="chaos-meter"
              role="progressbar"
              aria-valuemin="0"
              aria-valuemax="18"
              aria-valuenow="0"
            >
              <div class="meter-fill is-danger" id="chaos-fill" style="width: 0%"></div>
            </div>
            <p class="meter-caption">Too many Troublemakers trigger chaos.</p>
          </div>
          <div class="status-card">
            <h3 class="status-card-title">Gate Control</h3>
            <p id="chain-status">Chain ready when the sweep begins.</p>
            <p class="meter-caption">Chain the Gates freezes new trouble for a few beats.</p>
          </div>
        </div>
        <div class="status-banner" id="status-banner" role="status" aria-live="polite">
          Awaiting the first hall sweep.
        </div>
        <section class="hallway-section" aria-labelledby="hallway-title">
          <div class="hallway-header">
            <h3 id="hallway-title">Hallway Grid</h3>
            <p id="lane-hint">Select three matching Troublemakers to expel them.</p>
          </div>
          <div class="hallway-board" id="hallway-board" role="grid" aria-label="Hallway lanes"></div>
        </section>
        <section class="event-log" aria-labelledby="event-log-title">
          <h3 id="event-log-title">Incident Log</h3>
          <ul id="event-list"></ul>
        </section>
      </section>
    </main>
    <footer class="page-footer">
      <p>
        Tip: Sweep in waves. Chain the Gates just before a wall of Study Flow hits the students to cash out a full MBST charge.
      </p>
    </footer>
    <script type="module" src="gates-of-eastside.js"></script>
  </body>
</html>
