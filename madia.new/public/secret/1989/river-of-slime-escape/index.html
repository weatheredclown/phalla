<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>River of Slime Escape</title>
    <link rel="stylesheet" href="../../secret-annex-snes.css" />
    <link rel="stylesheet" href="../common.css" />
    <link rel="stylesheet" href="river-of-slime-escape.css" />
  </head>
  <body class="secret-annex-snes river-of-slime">
    <a class="skip-link" href="#main-content">Skip to game</a>
    <div class="scanlines" aria-hidden="true"></div>
    <header class="page-header">
      <p class="eyebrow">Level 27 · 1989 Arcade</p>
      <h1>River of Slime Escape</h1>
      <p class="subtitle">
        Scale the Vigo-tainted maintenance shaft faster than the psycho-reactive ooze can flood it.
        Stay upbeat, keep the proton bursts primed, and guide the rescue up to safety.
      </p>
    </header>
    <main id="main-content" class="page-layout river-layout">
      <section class="briefing" aria-labelledby="briefing-title">
        <h2 id="briefing-title">Containment Briefing</h2>
        <p>
          The mood slime under First Avenue is boiling, surging toward street level, and your lone responder is already waist-deep.
          The only escape is the old maintenance lattice—narrow corridors, failed catwalks, and panic vents that spit slime under the slightest stress.
          Keep morale high and keep moving before the whole shaft goes neon.
        </p>
        <ul class="callouts">
          <li>
            <strong>Meters climbed:</strong> Every rung counts.
            A clear HUD tracks your ascent and pipes it straight into the shared arcade high-score banner.
          </li>
          <li>
            <strong>Morale vs. Slime:</strong> The pink tide chews through morale on contact.
            Pipes belch corrosive bursts, and weak platforms collapse if you linger.
          </li>
          <li>
            <strong>Risk or safety:</strong> Wide detours snake around hazards but cost precious seconds.
            Tight shortcuts thread through pipes, hiding collectibles like haunted toasters and mini Liberties for daring crews.
          </li>
        </ul>
        <p>
          Engage the climb, chart the twisting paths, and trigger proton freeze bursts to buy breathing room.
          When the run ends, the wrap-up terminal logs your final altitude and every artifact you hauled out of the slime.
        </p>
      </section>
      <section class="simulator" aria-labelledby="simulator-title">
        <div class="simulator-header">
          <h2 id="simulator-title">Containment Run Console</h2>
          <div class="simulator-controls">
            <button type="button" class="action-button" id="start-run">Press Start</button>
            <button type="button" class="action-button" id="reset-run">Reset</button>
          </div>
        </div>
        <div class="hud-grid" aria-label="Run heads-up display">
          <div class="hud-tile">
            <p class="hud-label">Meters Climbed</p>
            <p class="hud-value" id="meters-value">0 m</p>
          </div>
          <div class="hud-tile">
            <p class="hud-label">Morale</p>
            <div class="meter" aria-hidden="true">
              <div class="meter-fill" id="morale-fill"></div>
            </div>
            <p class="hud-subvalue" id="morale-value">100%</p>
          </div>
          <div class="hud-tile">
            <p class="hud-label">Collectibles</p>
            <p class="hud-value" id="collectibles-value">0</p>
          </div>
          <div class="hud-tile">
            <p class="hud-label">Freeze Charge</p>
            <p class="hud-value" id="freeze-value">Ready</p>
          </div>
        </div>
        <div class="slime-indicator" aria-label="Slime proximity">
          <span class="slime-indicator-label">Slime Level</span>
          <div class="slime-indicator-bar" aria-hidden="true">
            <div class="slime-indicator-fill" id="slime-indicator-fill"></div>
          </div>
          <p class="slime-indicator-text" id="slime-indicator-text">Stable buffer</p>
        </div>
        <div class="stage-frame">
          <canvas id="game-canvas" width="280" height="520" aria-label="River of Slime gameplay"></canvas>
        </div>
        <section class="status-readout" id="status-readout">Press Start to initiate the containment run.</section>
        <section class="log-panel" aria-labelledby="log-title">
          <div class="log-header">
            <h3 id="log-title">Run Log</h3>
            <button type="button" class="action-button" id="clear-log">Clear Log</button>
          </div>
          <ol class="log-entries" id="event-log"></ol>
        </section>
        <section class="controls-callout" aria-labelledby="controls-title">
          <h3 id="controls-title">Controls</h3>
          <ul>
            <li><strong>Move:</strong> Arrow keys or WASD</li>
            <li><strong>Quick burst:</strong> Tap Space to jolt upward when morale is high</li>
            <li><strong>Reset:</strong> Use the Reset button above to reroll the shaft</li>
          </ul>
        </section>
      </section>
    </main>
    <aside class="wrapup" id="wrapup-screen" hidden role="dialog" aria-modal="true" aria-labelledby="wrapup-title">
      <div class="wrapup-card">
        <h2 id="wrapup-title">Containment Report</h2>
        <p class="wrapup-score"><span class="wrapup-score-value" id="wrapup-meters">0</span> meters cleared</p>
        <p class="wrapup-note" id="wrapup-morale"></p>
        <section aria-labelledby="wrapup-collectibles-title" class="wrapup-collectibles">
          <h3 id="wrapup-collectibles-title">Recovered Artifacts</h3>
          <ul id="wrapup-collectibles-list"></ul>
        </section>
        <div class="wrapup-actions">
          <button type="button" class="action-button" id="play-again">Run it back</button>
          <button type="button" class="action-button" id="wrapup-close">Close</button>
        </div>
      </div>
    </aside>
    <script type="module" src="river-of-slime-escape.js"></script>
  </body>
</html>
