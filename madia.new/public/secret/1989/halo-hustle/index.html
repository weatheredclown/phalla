<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Halo Hustle</title>
    <link rel="stylesheet" href="../action-animations.css" />
    <link rel="stylesheet" href="halo-hustle.css" />
  </head>
  <body>
    <div class="scanlines" aria-hidden="true"></div>
    <header class="page-header">
      <p class="eyebrow">Level 43 Â· 1989 Arcade</p>
      <h1>Halo Hustle</h1>
      <p class="subtitle">
        Smuggle Life Chips back into the Clock of Life before the last grain of sand slips away.
      </p>
    </header>
    <main class="page-layout">
      <section class="briefing" aria-labelledby="briefing-title">
        <h2 id="briefing-title">Parlor Briefing</h2>
        <p>
          Charlie&rsquo;s bolted the pearly gate and ducked into the neon parlor, clutching the Clock of Life that leaks Time-Sand by
          the second. The house has stacked three betting tables with pocket puzzles. Crack them in motion, scoop the Life Chips,
          and pour them back into the clock before it shatters.
        </p>
        <ul class="callouts">
          <li><strong>Clock of Life:</strong> The hourglass drains in real time. Keep its meter above zero.</li>
          <li><strong>Betting tables:</strong> Each puzzle feeds chips equal to your streak. Busting wipes the run-up.</li>
          <li><strong>High stakes:</strong> Long odds chew through sand while you play, but their jackpots can save the night.</li>
          <li><strong>Chip drop:</strong> Deposit winnings fast to refill the clock before the sand runs dry.</li>
        </ul>
        <section class="action-guide" aria-labelledby="action-guide-title">
          <h3 id="action-guide-title">Actions</h3>
          <dl>
            <div>
              <dt>Start Run</dt>
              <dd>Kick off the countdown. Tables unlock and the Clock of Life begins to empty.</dd>
            </div>
            <div>
              <dt>Deal Quick Odds</dt>
              <dd>Fast puzzles that barely nick the clock. Nail them to build your streak.</dd>
            </div>
            <div>
              <dt>Deal High Odds</dt>
              <dd>Risky tables slow you down in exchange for bigger chip drops. Choose when to gamble.</dd>
            </div>
            <div>
              <dt>Deposit Life Chips</dt>
              <dd>Pour banked chips back into the clock. Each chip restores four seconds of sand.</dd>
            </div>
          </dl>
        </section>
      </section>
      <section class="parlor" aria-labelledby="parlor-title">
        <div class="parlor-header">
          <h2 id="parlor-title">Clock of Life Simulator</h2>
          <div class="run-controls">
            <button type="button" class="action-button" id="start-run">Start Run</button>
            <button type="button" class="action-button" id="stop-run" disabled>Stop Run</button>
            <button type="button" class="action-button" id="deposit-chips" disabled>Deposit Life Chips</button>
          </div>
        </div>
        <p class="parlor-help">
          Select a table to play its betting puzzle. Winning grows your streak and banks Life Chips&mdash;just don&rsquo;t let the Time-Sand
          run out before you pour them back into the clock.
        </p>
        <div class="status-panels" role="group" aria-label="Run status">
          <div class="meter-panel">
            <div class="meter-labels">
              <span class="meter-title">Time-Sand</span>
              <span class="meter-value" id="time-remaining-label">60s</span>
            </div>
            <div
              class="meter"
              role="progressbar"
              aria-valuemin="0"
              aria-valuemax="80"
              aria-valuenow="60"
              id="time-remaining"
            >
              <div class="meter-fill" id="time-fill" style="width: 75%"></div>
            </div>
          </div>
          <div class="summary-panel">
            <dl>
              <div>
                <dt>Banked Life Chips</dt>
                <dd id="life-chip-total">0</dd>
              </div>
              <div>
                <dt>Streak</dt>
                <dd id="current-streak">1</dd>
              </div>
              <div>
                <dt>Chips Ready to Drop</dt>
                <dd id="pending-chips">0</dd>
              </div>
            </dl>
          </div>
        </div>
        <div class="status-banner" id="status-banner" role="status" aria-live="polite">
          Waiting on the first run.
        </div>
        <section class="betting-floor" aria-label="Betting tables">
          <article class="table-card" data-table="halo-cups">
            <header>
              <h3>Halo Cups</h3>
              <p class="table-difficulty">Quick Odds</p>
            </header>
            <p>
              Track the glowing chip as the cups glide. Remember where it lands and tap the right cup before the sand hits bottom.
            </p>
            <button type="button" class="table-button" data-table="halo-cups" disabled>Deal Quick Odds</button>
          </article>
          <article class="table-card" data-table="lucky-sum">
            <header>
              <h3>Lucky Sum</h3>
              <p class="table-difficulty">Quick Odds</p>
            </header>
            <p>
              Four neon dice light up the felt. Tag the two that add to the called number without hesitating.
            </p>
            <button type="button" class="table-button" data-table="lucky-sum" disabled>Deal Quick Odds</button>
          </article>
          <article class="table-card" data-table="seraph-sequence">
            <header>
              <h3>Seraph Sequence</h3>
              <p class="table-difficulty">High Stakes</p>
            </header>
            <p>
              The house flashes a haloed suit order. Memorize it, stomach the sand drain, then replay the sequence exactly.
            </p>
            <button type="button" class="table-button" data-table="seraph-sequence" disabled>Deal High Odds</button>
          </article>
        </section>
        <section class="puzzle-stage" aria-labelledby="puzzle-stage-title">
          <h3 id="puzzle-stage-title">Betting Puzzle</h3>
          <p id="puzzle-instructions">Choose a table to load its puzzle.</p>
          <div id="puzzle-stage" class="puzzle-stage-body"></div>
        </section>
        <section class="event-log" aria-labelledby="event-log-title">
          <h3 id="event-log-title">Event Log</h3>
          <ul id="event-list"></ul>
        </section>
      </section>
    </main>
    <footer class="page-footer">
      <p>
        Tip: Keep a steady streak on the quick tables, then gamble on a Seraph Sequence when the clock is topped off. Deposit the
        haul before chasing the next score.
      </p>
    </footer>
    <script type="module" src="halo-hustle.js"></script>
  </body>
</html>
