<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Gilded Partition</title>
    <link rel="stylesheet" href="../../secret-annex-snes.css" />
    <link rel="stylesheet" href="../common.css" />
    <link rel="stylesheet" href="gilded-partition.css" />
  </head>
  <body class="secret-annex-snes">
    <a class="skip-link" href="#main-content">Skip to game</a>
    <div class="scanlines" aria-hidden="true"></div>
    <header class="page-header">
      <p class="eyebrow">Level 30 Â· 1989 Arcade</p>
      <h1>Gilded Partition</h1>
      <p class="subtitle">
        Broker the split of the Van Rose estate by chaining floor-plan gambits while keeping the house from literally cracking in
        half.
      </p>
    </header>
    <main id="main-content" class="page-layout">
      <section class="briefing" aria-labelledby="briefing-title">
        <h2 id="briefing-title">Estate Brief</h2>
        <p>
          The manor's title is split between Barbara's crimson claims and Oliver's cobalt counters. Each match-three pull lets
          you tug nearby Ownership Tiles to your chosen side, but when both sides fire in the same beat the house retaliates with
          a Destruction clause that locks rooms forever.
        </p>
        <ul class="callouts">
          <li><strong>Ownership tiles:</strong> Every cell has an active deed that can favor Barbara, Oliver, or go scorched.</li>
          <li><strong>Match pieces:</strong> Granite and slate feed Barbara's attorneys; marble and quartz empower Oliver's.</li>
          <li><strong>Destruction:</strong> Simultaneous red and blue swings collide to spawn unflippable ruins.</li>
          <li><strong>Legal victory:</strong> Sweep an entire room to void Destruction elsewhere via court order.</li>
        </ul>
        <section class="key-guide" aria-labelledby="estate-controls">
          <h3 id="estate-controls">Controls</h3>
          <dl>
            <div>
              <dt>Swap focus</dt>
              <dd>Select one tile, then another adjacent tile, or press the arrow keys to move the cursor.</dd>
            </div>
            <div>
              <dt>Confirm swap</dt>
              <dd><span class="key-label">Enter</span> or click the highlighted neighbor.</dd>
            </div>
            <div>
              <dt>Clear estate</dt>
              <dd><span class="key-label">R</span> to reseed the deed grid with a new shuffle.</dd>
            </div>
          </dl>
        </section>
      </section>
      <section class="simulator" aria-labelledby="simulator-title">
        <div class="simulator-header">
          <h2 id="simulator-title">Partition Simulator</h2>
          <div class="simulator-controls">
            <button type="button" class="action-button" id="reset-estate">Reseed Estate</button>
            <button type="button" class="action-button" id="hint-toggle">Toggle Risk Hints</button>
          </div>
        </div>
        <p class="simulator-help">
          Match three or more like pieces by swapping neighbors. Converted Ownership Tiles swing toward the matching party unless
          Destruction freezes the floor. Hold 65% of the estate for Barbara while keeping fewer than eight Destruction blocks.
        </p>
        <div class="estate-status" role="group" aria-label="Estate status">
          <div class="status-card">
            <h3>Barbara Control</h3>
            <div class="meter" role="progressbar" aria-valuemin="0" aria-valuemax="100" aria-valuenow="0" id="barbara-meter">
              <div class="meter-fill" id="barbara-meter-fill" style="width: 0%"></div>
            </div>
            <p class="status-value"><span id="barbara-share">0</span>% (<span id="barbara-tiles">0</span> tiles)</p>
          </div>
          <div class="status-card">
            <h3>Oliver Control</h3>
            <div class="meter" role="progressbar" aria-valuemin="0" aria-valuemax="100" aria-valuenow="0" id="oliver-meter">
              <div class="meter-fill" id="oliver-meter-fill" style="width: 0%"></div>
            </div>
            <p class="status-value"><span id="oliver-share">0</span>% (<span id="oliver-tiles">0</span> tiles)</p>
          </div>
          <div class="status-card">
            <h3>Destruction</h3>
            <p class="status-value"><span id="destruction-count">0</span> locked rooms</p>
            <p class="status-note">Limit 7 to keep the truce intact.</p>
          </div>
        </div>
        <div class="estate-board" id="estate-board" role="grid" aria-label="Shared ownership floor plan"></div>
        <section class="estate-rooms" aria-labelledby="rooms-title">
          <h3 id="rooms-title">Known Rooms</h3>
          <dl id="room-list"></dl>
        </section>
        <section class="event-log" aria-labelledby="event-log-title">
          <h3 id="event-log-title">Docket Log</h3>
          <ul id="event-list"></ul>
        </section>
      </section>
    </main>
    <footer class="page-footer">
      <p>Tip: Clearing the Chandelier Room in one sweep triggers a Legal Victory that vacates ruin elsewhere.</p>
    </footer>
    <script type="module" src="gilded-partition.js"></script>
  </body>
</html>
