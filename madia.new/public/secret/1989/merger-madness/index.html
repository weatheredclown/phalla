<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Merger Madness</title>
    <link rel="stylesheet" href="../../secret-annex-snes.css" />
    <link rel="stylesheet" href="../common.css" />
    <link rel="stylesheet" href="merger-madness.css" />
  </head>
  <body class="secret-annex-snes">
    <a class="skip-link" href="#main-content">Skip to game</a>
    <div class="scanlines" aria-hidden="true"></div>
    <header class="page-header">
      <p class="eyebrow">Level 22 Â· 1989 Arcade</p>
      <h1>Merger Madness</h1>
      <p class="subtitle">
        Keep the Park Avenue power brokers happy by taming the document pile, typing spotless memos,
        and juggling phone calls before the stress meter maxes out.
        Land the deal, secure the corner office.
      </p>
    </header>
    <main id="main-content" class="page-layout">
      <section class="briefing" aria-labelledby="briefing-title">
        <h2 id="briefing-title">Briefing</h2>
        <p>
          The board meets in twenty minutes and every exec expects their paperwork pristine.
          Stage your desk, rifle through the courier drops, and type those memos without smudging the carbon copy.
        </p>
        <ul class="callouts">
          <li>
            <strong>Setup:</strong> Review the <em>To Do</em> list, then hit
            <span class="key-label">Start Work Block</span> to trigger the first wave of incoming folders.
          </li>
          <li>
            <strong>Typing:</strong> When a memo appears, match the script exactly.
            Clean strings score a celebratory chime; mistakes spike stress.
          </li>
          <li>
            <strong>Sorting:</strong> Couriers dump files on the blotter.
            File the top document into <em>Memos</em>, <em>Financials</em>, or <em>Legal</em> before the pile overflows.
          </li>
          <li>
            <strong>Distractions:</strong> Ringing phones demand an immediate
            <span class="key-label">Answer</span> or they torch your composure.
            Later blocks layer simultaneous memos and multi-file drops.
          </li>
          <li>
            <strong>Relief Valve:</strong> The <span class="key-label">Coffee Break</span> wipes the desk and pauses stress growth
            for five seconds but slashes your Efficiency rating.
            Use it only if panic hits.
          </li>
        </ul>
        <section class="key-guide" aria-labelledby="key-guide-title">
          <h3 id="key-guide-title">Controls</h3>
          <dl>
            <div>
              <dt>Start / Reset</dt>
              <dd><span class="key-label">Start Work Block</span> / <span class="key-label">Reset Desk</span></dd>
            </div>
            <div>
              <dt>Type Memo</dt>
              <dd>Click the typing field and use your keyboard</dd>
            </div>
            <div>
              <dt>File Document</dt>
              <dd>Click a folder button (<span class="key-label">Memos</span>, <span class="key-label">Financials</span>, <span class="key-label">Legal</span>)</dd>
            </div>
            <div>
              <dt>Answer Phone</dt>
              <dd>Press the <span class="key-label">Answer Call</span> button</dd>
            </div>
            <div>
              <dt>Coffee Break</dt>
              <dd>Press <span class="key-label">Coffee Break</span> once per block</dd>
            </div>
          </dl>
        </section>
      </section>
      <section class="simulator" aria-labelledby="simulator-title">
        <div class="simulator-header">
          <h2 id="simulator-title">Executive Desk Console</h2>
          <div class="simulator-controls">
            <button type="button" class="action-button" id="start-button">Start Work Block</button>
            <button type="button" class="action-button" id="coffee-button" disabled>Coffee Break</button>
            <button type="button" class="action-button" id="reset-button">Reset Desk</button>
          </div>
        </div>
        <p class="simulator-help" id="simulator-help">
          File documents, type perfect memos, and answer calls before stress boils over.
          Finish the work block with the highest Efficiency rating possible.
        </p>
        <div class="status-board" role="group" aria-label="Status indicators">
          <div class="status-tile">
            <span class="status-label">Efficiency Rating</span>
            <span class="status-value" id="efficiency-value">0</span>
          </div>
          <div class="status-tile">
            <span class="status-label">Stress Level</span>
            <div class="status-meter" role="progressbar" aria-valuemin="0" aria-valuemax="100" aria-valuenow="0" id="stress-meter">
              <div class="status-meter-fill" id="stress-fill"></div>
            </div>
            <span class="status-value" id="stress-value">0%</span>
          </div>
          <div class="status-tile">
            <span class="status-label">Document Pile</span>
            <span class="status-value" id="pile-count">0</span>
          </div>
          <div class="status-tile">
            <span class="status-label">Block Timer</span>
            <span class="status-value" id="timer-value">01:30</span>
          </div>
        </div>
        <div class="workstation" role="region" aria-label="Desk layout">
          <aside class="todo-panel" aria-labelledby="todo-title">
            <h3 id="todo-title">To Do</h3>
            <ul id="todo-list"></ul>
          </aside>
          <div class="task-columns">
            <section class="typing-station" aria-labelledby="typing-title">
              <h3 id="typing-title">Typing Pool</h3>
              <p id="typing-instructions">Waiting for the first memo to arrive.</p>
              <div class="typing-prompt" id="typing-prompt" aria-live="polite"></div>
              <textarea id="typing-input" class="typing-input" rows="4" aria-label="Type memo" disabled></textarea>
              <div class="typing-feedback" id="typing-feedback"></div>
            </section>
            <section class="sorting-station" aria-labelledby="sorting-title">
              <h3 id="sorting-title">File Towers</h3>
              <p id="sorting-instructions">No documents queued.</p>
              <div class="document-pile" id="document-pile" role="list"></div>
              <div class="folder-row" role="group" aria-label="Folders">
                <button type="button" class="folder-button" data-folder="memos">Memos</button>
                <button type="button" class="folder-button" data-folder="financials">Financials</button>
                <button type="button" class="folder-button" data-folder="legal">Legal</button>
              </div>
            </section>
          </div>
        </div>
        <div class="phone-alert" id="phone-alert" role="status" aria-live="assertive" hidden>
          <p><strong>Phone Call:</strong> Corporate wants an update!</p>
          <button type="button" class="action-button" id="answer-button">Answer Call</button>
          <p class="phone-timer" id="phone-timer">3.0s</p>
        </div>
      </section>
    </main>
    <footer class="page-footer">
      <p>
        Accuracy keeps the promotion path clear. Let documents stack or miss a call and the stress meter surges.
        Pace your typing, keep folders tidy, and cash out a clean Efficiency rating.
      </p>
    </footer>
    <section class="wrapup" id="wrapup" hidden aria-live="polite">
      <div class="wrapup-dialog" role="dialog" aria-modal="true" aria-labelledby="wrapup-title" tabindex="-1">
        <header class="wrapup-header">
          <h2 id="wrapup-title">Work Block Results</h2>
          <p id="wrapup-subtitle"></p>
        </header>
        <div class="wrapup-body">
          <div class="wrapup-summary">
            <p><strong>Efficiency Rating:</strong> <span id="wrapup-efficiency">0</span></p>
            <p><strong>Typing Accuracy:</strong> <span id="wrapup-accuracy">0%</span></p>
            <p><strong>Documents Filed:</strong> <span id="wrapup-docs">0</span></p>
          </div>
          <div class="wrapup-notes" id="wrapup-notes"></div>
        </div>
        <footer class="wrapup-footer">
          <button type="button" class="action-button" id="wrapup-rematch">Run Another Block</button>
          <button type="button" class="action-button" id="wrapup-close">Close</button>
        </footer>
      </div>
    </section>
    <script type="module" src="./merger-madness.js"></script>
  </body>
</html>
