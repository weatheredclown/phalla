<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Frank Drebin's Follies</title>
    <link rel="stylesheet" href="../../secret-annex-snes.css" />
    <link rel="stylesheet" href="../common.css" />
    <link rel="stylesheet" href="frank-drebins-follies.css" />
  </head>
  <body class="secret-annex-snes">
    <a class="skip-link" href="#main-content">Skip to game</a>
    <div class="scanlines" aria-hidden="true"></div>
    <header class="page-header">
      <p class="eyebrow">Level 6 Â· 1989 Arcade</p>
      <h1>Frank Drebin's Follies</h1>
      <p class="subtitle">
        Juggle "routine" police work with slapstick reflexes. Hit the prompts, ride the chaos, and pray the department keeps
        you on payroll for one more beat.
      </p>
    </header>
    <main id="main-content" class="page-layout">
      <section class="briefing" aria-labelledby="briefing-title">
        <h2 id="briefing-title">Case File</h2>
        <p>
          Lieutenant Drebin has been assigned to the mundane desk detail no one else wants. Each vignette begins as a harmless
          errand, but one mistimed tap turns ladders into catapults and parade floats into improvised demolition crews. Keep the
          Reputation meter from flatlining while amplifying collateral comedy for the biggest Chaos Rating.
        </p>
        <ul class="callouts">
          <li><strong>Chaos Rating:</strong> Every ricochet, pratfall, or explosion feeds this score. Chain reactions award
            bigger surges.</li>
          <li><strong>Reputation Meter:</strong> Collateral damage drains your badge credibility. Finish routines cleanly to
            regain a sliver of respect.</li>
          <li><strong>Intervention Icons:</strong> Flashing shields invite restraint. Press them to dodge disaster and protect
            Reputation&mdash;or ignore them to farm chaos.</li>
        </ul>
        <section class="key-guide" aria-labelledby="key-guide-title">
          <h3 id="key-guide-title">Key Bindings</h3>
          <dl>
            <div>
              <dt>Primary Prompts</dt>
              <dd><span class="key-label">A</span>, <span class="key-label">B</span>, <span class="key-label">X</span>, or
                <span class="key-label">Y</span> react to incoming mishaps.</dd>
            </div>
            <div>
              <dt>Start Run</dt>
              <dd><span class="key-label">Enter</span> or click <span class="key-label">Start Shift</span>.</dd>
            </div>
            <div>
              <dt>Reset</dt>
              <dd><span class="key-label">R</span> drops Drebin back at the first vignette.</dd>
            </div>
          </dl>
        </section>
        <section class="combo-guide" aria-labelledby="combo-guide-title">
          <h3 id="combo-guide-title">Chaos Control Tips</h3>
          <p>
            Completing a vignette with Reputation above 40% unlocks a <strong>Departmental Shrug</strong>, slowing the next
            countdown and granting a clean-up bonus. Tanking the meter below 20% pushes the desk sergeant to slap a
            <strong>Reputation DANGER!</strong> warning on screen&mdash;your next misstep will likely end the shift.
          </p>
        </section>
      </section>
      <section class="simulator" aria-labelledby="simulator-title">
        <div class="simulator-header">
          <h2 id="simulator-title">Rapid Reaction Desk</h2>
          <div class="simulator-controls">
            <button type="button" class="action-button" id="start-run">Start Shift</button>
            <button type="button" class="action-button" id="reset-run">Reset</button>
          </div>
        </div>
        <p class="simulator-help">
          Watch the active vignette, smash the prompted button before the timer vaporizes, and decide whether to intervene when
          the badge icon flashes. Reputation hits zero and Internal Affairs pulls the plug.
        </p>
        <div class="status-board" role="group" aria-label="Desk status">
          <div class="status-tile">
            <span class="status-label">Chaos Rating</span>
            <span class="status-value" id="chaos-score">0</span>
          </div>
          <div class="status-tile reputation" id="reputation-tile">
            <span class="status-label">Reputation</span>
            <div class="reputation-meter" aria-hidden="true">
              <div class="reputation-fill" id="reputation-fill"></div>
            </div>
            <span class="status-value" id="reputation-value">100%</span>
          </div>
          <div class="status-tile">
            <span class="status-label">Current Vignette</span>
            <span class="status-value" id="vignette-label">Awaiting Orders</span>
          </div>
          <div class="status-tile">
            <span class="status-label">Desk Notes</span>
            <span class="status-value" id="status-bar">Press Start Shift to begin.</span>
          </div>
        </div>
        <div class="prompt-area" aria-live="assertive">
          <div class="prompt-card" id="prompt-card">
            <p class="prompt-title" id="prompt-title">No prompt yet.</p>
            <p class="prompt-instruction" id="prompt-instruction">Stay frosty, detective.</p>
            <div class="prompt-footer">
              <button type="button" class="prompt-button" id="prompt-button" disabled>
                <span class="prompt-key" id="prompt-key">&mdash;</span>
                <span class="prompt-action" id="prompt-action">Waiting</span>
              </button>
              <div class="prompt-timer" id="prompt-timer" aria-hidden="true"></div>
            </div>
          </div>
          <div class="intervention-callout" id="intervention-callout" hidden>
            <div class="intervention-icon" aria-hidden="true">!</div>
            <p class="intervention-text">
              <span id="intervention-label">Intervention Opportunity</span>
              <span class="intervention-key" id="intervention-key"></span>
            </p>
            <div class="intervention-timer" id="intervention-timer" aria-hidden="true"></div>
          </div>
        </div>
        <section class="event-log" aria-labelledby="event-log-title">
          <h3 id="event-log-title">Incident Log</h3>
          <ul id="event-log"></ul>
        </section>
      </section>
    </main>
    <section
      class="wrap-up"
      id="wrap-up"
      hidden
      aria-labelledby="wrap-up-title"
      role="dialog"
      aria-modal="true"
      tabindex="-1"
    >
      <div class="wrap-up-card">
        <header class="wrap-up-header">
          <h2 id="wrap-up-title">Shift Debrief</h2>
          <p id="wrap-up-summary">Chaos summary pending.</p>
        </header>
        <dl class="wrap-up-stats">
          <div>
            <dt>Total Chaos Rating</dt>
            <dd id="wrap-up-chaos">0</dd>
          </div>
          <div>
            <dt>Property Damage Cost</dt>
            <dd id="wrap-up-damage">$0</dd>
          </div>
          <div>
            <dt>Highlights Logged</dt>
            <dd id="wrap-up-highlights">0</dd>
          </div>
        </dl>
        <section class="highlight-reel" aria-labelledby="highlight-title">
          <h3 id="highlight-title">Highlight Reel</h3>
          <ul id="highlight-list"></ul>
        </section>
        <div class="wrap-up-actions">
          <button type="button" class="action-button" id="replay-button">Run It Again</button>
          <button type="button" class="action-button" id="close-wrap-up">Close</button>
        </div>
      </div>
    </section>
    <script type="module" src="frank-drebins-follies.js"></script>
  </body>
</html>
