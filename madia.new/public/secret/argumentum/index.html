<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Argumentum</title>
    <link rel="stylesheet" href="argumentum.css" />
  </head>
  <body>
    <header class="page-header">
      <h1>Argumentum</h1>
      <p class="subtitle">
        Fuse elementary rocks, conjure tetramino storms, and weave resource trails across the
        Argumentum lattice.
      </p>
    </header>

    <main class="game-layout">
      <section class="panel match-three" aria-label="Elemental Rock Crucible">
        <div class="panel-header">
          <h2>Rock Crucible</h2>
          <button type="button" class="action-button" id="charge-transform">Channel Flow</button>
        </div>
        <p class="panel-help">
          Swap adjacent rocks to make trios. Matched elements energize the forge and birth new
          tetramino fragments. Charged flows can transmute a selected rock into an empowered state.
        </p>
        <div class="match-board" id="match-board" role="grid" aria-live="polite"></div>
        <div class="transform-toolbar" id="transform-toolbar" hidden>
          <p>Select a tile to transmute using stored flow energy.</p>
          <button type="button" class="action-button" id="cancel-transform">Cancel</button>
        </div>
      </section>

      <section class="panel tetramino" aria-label="Tetramino Reactor">
        <div class="panel-header">
          <h2>Tetramino Reactor</h2>
          <button type="button" class="action-button" id="shift-board" disabled>
            Actuated Shift
          </button>
        </div>
        <p class="panel-help">
          Falling tetramino shards forge bridges into the flow network. Clear lines to unleash
          wipeout combos and extend the trail grid.
        </p>
        <div class="tetramino-wrapper">
          <div class="tetramino-board" id="tetramino-board" aria-label="Falling pieces"></div>
          <div class="queue-panel">
            <h3>Forge Queue</h3>
            <div id="piece-queue"></div>
            <div class="meter-group">
              <h3>Resource Meters</h3>
              <label>Earth <progress id="earth-meter" max="100" value="0"></progress></label>
              <label>Water <progress id="water-meter" max="100" value="0"></progress></label>
              <label>Fire <progress id="fire-meter" max="100" value="0"></progress></label>
              <label>Shift <progress id="shift-meter" max="100" value="0"></progress></label>
            </div>
          </div>
        </div>
      </section>

      <section class="panel flow-network" aria-label="Flow Trail Network">
        <div class="panel-header">
          <h2>Flow Trails</h2>
          <button type="button" class="action-button" id="route-toggle">Plan Routes</button>
        </div>
        <p class="panel-help">
          Use bridges dropped from the reactor to connect wells and conduits. Completed circuits feed
          back into the crucible, empowering new rock states and amplifying combos.
        </p>
        <div class="flow-grid" id="flow-grid" aria-label="Resource network"></div>
        <div class="event-log" id="event-log" aria-live="polite"></div>
      </section>
    </main>

    <footer class="page-footer">
      <p>
        Tip: Forge a triple of matching rocks to spawn a tetramino. Clear a tetramino line to drop a
        bridge segment and flood the network with resources.
      </p>
    </footer>

    <script type="module" src="argumentum.js"></script>
  </body>
</html>
