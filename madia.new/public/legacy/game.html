<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Game View (Legacy Skin)</title>
    <link rel="stylesheet" href="/legacy/phalla.css" />
  </head>
  <body>
    <div id="legacyHeader"></div>
    <div align="center">
      <div class="page" style="width:98%; text-align:left">
        <div style="padding:0px 10px 0px 10px">
          <div style="margin:10px 0;">
            <a href="/legacy/index.html">&laquo; back to games</a>
          </div>

          <table class="tborder" cellpadding="4" cellspacing="1" border="0" width="100%" align="center">
            <thead>
              <tr align="center">
                <td class="thead" width="100%" align="left" id="gameTitle">Loading...</td>
                <td class="thead" width="175">Last Post</td>
                <td class="thead">Players</td>
                <td class="thead">Day</td>
                <td class="thead">Open</td>
              </tr>
            </thead>
            <tbody id="gameMeta"></tbody>
          </table>

          <div class="smallfont" style="margin:6px 2px;">
            <a id="playerListLink" href="#">view player list</a>
          </div>

          <div id="postsContainer" style="margin-top:10px;"></div>

          <!-- Quick reply / actions -->
          <div style="margin-top:12px;">
            <div id="ownerControls" class="smallfont" style="display:none; margin-bottom:8px;">
              <b>Owner Controls:</b>
              <button id="toggleOpen" class="button">Toggle Open</button>
              <button id="toggleActive" class="button">Toggle Active</button>
              <button id="nextDay" class="button">Next Day</button>
              <button id="daySummary" class="button">Day Summary</button>
            </div>
            <div class="smallfont" style="margin-bottom:8px;">
              <button id="joinButton" class="button">Join Game</button>
              <button id="leaveButton" class="button" style="display:none;">Leave Game</button>
            </div>
            <div id="playerTools" class="smallfont" style="display:none; margin-bottom:12px;">
              <div><strong>Private Game Tools</strong></div>
              <form id="privateActionForm" class="stacked-form">
                <label>
                  Action name
                  <select id="privateActionName" class="bginput"></select>
                  <input
                    id="privateActionNameCustom"
                    class="bginput"
                    style="display:none; margin-top:6px;"
                    placeholder="Enter action name"
                  />
                </label>
                <label>
                  Target name
                  <select id="privateActionTarget" class="bginput"></select>
                  <input
                    id="privateActionTargetCustom"
                    class="bginput"
                    style="display:none; margin-top:6px;"
                    placeholder="Enter target name"
                  />
                </label>
                <label>
                  Day
                  <input id="privateActionDay" type="number" class="bginput" min="0" />
                </label>
                <div><button class="button" type="submit">Record private action</button></div>
              </form>
              <form id="voteRecordForm" class="stacked-form">
                <label>
                  Vote target
                  <select id="voteTarget" class="bginput"></select>
                </label>
                <label>
                  Day
                  <input id="voteDay" type="number" class="bginput" min="0" />
                </label>
                <label>
                  Notes
                  <input id="voteNotes" class="bginput" />
                </label>
                <div><button class="button" type="submit">Record vote</button></div>
              </form>
              <form id="claimRecordForm" class="stacked-form">
                <label>
                  Claim role
                  <input id="claimRole" class="bginput" />
                </label>
                <label>
                  Day
                  <input id="claimDay" type="number" class="bginput" min="0" />
                </label>
                <div><button class="button" type="submit">Record claim</button></div>
              </form>
              <form id="notebookRecordForm" class="stacked-form">
                <label>
                  Notebook target
                  <select id="notebookTarget" class="bginput"></select>
                </label>
                <label>
                  Day
                  <input id="notebookDay" type="number" class="bginput" min="0" />
                </label>
                <label>
                  Notes
                  <input id="notebookNotes" class="bginput" />
                </label>
                <div><button class="button" type="submit">Save notebook entry</button></div>
              </form>
              <div id="playerToolsStatus" style="display:none; margin-top:6px; color:#F9A906;"></div>
            </div>
            <div id="moderatorPanel" class="smallfont" style="display:none; margin-bottom:12px;">
              <div><strong>Moderator Player Management</strong></div>
              <div id="moderatorStatus" style="display:none; margin:6px 0; color:#F9A906;"></div>
              <table class="tborder" cellpadding="4" cellspacing="1" border="0" width="100%" style="margin-top:6px;">
                <thead>
                  <tr align="center">
                    <td class="thead" width="240">Player</td>
                    <td class="thead" width="200">Role</td>
                    <td class="thead" width="120">Status</td>
                    <td class="thead" width="120">Posts left</td>
                    <td class="thead" width="200">Actions</td>
                  </tr>
                </thead>
                <tbody id="moderatorRows">
                  <tr>
                    <td class="alt1" colspan="5" align="center">Loading playersâ€¦</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <form id="replyForm" style="display:none;" onsubmit="return false;">
              <table cellpadding="4" cellspacing="0" border="0" width="100%" class="tborder">
                <tr>
                  <td class="alt2">
                    <div class="smallfont">Title</div>
                    <input id="replyTitle" class="bginput" style="width:98%" />
                    <div class="smallfont" style="margin-top:6px;">Message (UBB)</div>
                    <div class="ubb-toolbar">
                      <button type="button" class="ubb-button" data-ubb-tag="b" title="Bold">B</button>
                      <button type="button" class="ubb-button" data-ubb-tag="i" title="Italic">I</button>
                      <button type="button" class="ubb-button" data-ubb-tag="u" title="Underline">U</button>
                    </div>
                    <textarea id="replyBody" class="bginput" rows="6" style="width:98%"></textarea>
                    <div style="margin-top:8px;"><button id="postReply" class="button">Post Reply</button></div>
                  </td>
                </tr>
              </table>
            </form>
          </div>
        </div>
      </div>
    </div>

    <script type="module" src="/legacy/game.js"></script>
  </body>
  </html>
